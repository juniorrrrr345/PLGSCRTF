(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[886],{4531:function(e,u,t){Promise.resolve().then(t.bind(t,4256))},4256:function(e,u,t){"use strict";t.r(u),t.d(u,{default:function(){return o}});var s=t(7821),l=t(8078),a=t(8771),r=t(4543),D=t(6702),n=t(5466);let i=e=>fetch(e).then(e=>e.json());function o(){let{data:e,error:u,isLoading:t}=(0,a.ZP)("/api/plugs",i),[o,c]=(0,l.useState)(""),[d,x]=(0,l.useState)("ALL"),[C,h]=(0,l.useState)("ALL"),[p,m]=(0,l.useState)("ALL"),[g,v]=(0,l.useState)(null),[E,f]=(0,l.useState)([]),[N,b]=(0,l.useState)([]),[w,y]=(0,l.useState)([]),[j,F]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{if(e){let u=new Set;e.forEach(e=>{var t;(null===(t=e.location)||void 0===t?void 0:t.countries)&&e.location.countries.forEach(e=>{u.add(e)})}),b(Array.from(u).sort());let t=e.filter(e=>{var u,t,s,l;return e.name.toLowerCase().includes(o.toLowerCase())||(null===(t=e.location)||void 0===t?void 0:null===(u=t.department)||void 0===u?void 0:u.toLowerCase().includes(o.toLowerCase()))||(null===(l=e.location)||void 0===l?void 0:null===(s=l.country)||void 0===s?void 0:s.toLowerCase().includes(o.toLowerCase()))});"ALL"!==d&&(t=t.filter(e=>{var u,t;return null===(t=e.location)||void 0===t?void 0:null===(u=t.countries)||void 0===u?void 0:u.includes(d)})),f(t.map((e,u)=>({...e,rank:u<3?u+1:null})))}},[e,o,d]),u)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center pt-20",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Erreur de chargement"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Impossible de charger les plugs"})]})}):(0,s.jsxs)("div",{className:"min-h-screen pt-20 px-4",children:[(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8 bg-black/60 backdrop-blur-sm rounded-2xl p-6",children:[(0,s.jsxs)("h1",{className:"text-4xl md:text-5xl font-black mb-3 text-white drop-shadow-2xl",children:["\uD83D\uDD0C Nos ",(0,s.jsx)("span",{className:"gradient-text",children:"Plugs Certifi\xe9s"})]}),(0,s.jsx)("p",{className:"text-white/90 text-lg drop-shadow-lg",children:"Vendeurs v\xe9rifi\xe9s et class\xe9s par popularit\xe9"}),e&&(0,s.jsxs)("p",{className:"text-sm text-white/70 mt-2 drop-shadow",children:[E.length," plug",E.length>1?"s":""," trouv\xe9",E.length>1?"s":""]})]}),(0,s.jsxs)("div",{className:"mb-8 space-y-4",children:[(0,s.jsxs)("div",{className:"relative max-w-md mx-auto",children:[(0,s.jsx)(n.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Rechercher un plug...",className:"w-full pl-12 pr-4 py-3 bg-black/80 backdrop-blur-md border-2 border-white/30 rounded-xl text-white placeholder-white/60 focus:outline-none focus:border-primary transition-all shadow-xl",value:o,onChange:e=>c(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center",children:[(0,s.jsx)("button",{onClick:()=>x("ALL"),className:"px-4 py-2 rounded-lg transition-all ".concat("ALL"===d?"bg-primary text-white":"bg-gray-800/50 text-gray-400 hover:bg-gray-700"),children:"\uD83C\uDF10 Tous les pays"}),N.map(u=>{let t=(null==e?void 0:e.filter(e=>e.country===u).length)||0;return(0,s.jsxs)("button",{onClick:()=>x(u),className:"px-4 py-2 rounded-lg transition-all ".concat(d===u?"bg-primary text-white":"bg-gray-800/50 text-gray-400 hover:bg-gray-700"),children:[{FR:"\uD83C\uDDEB\uD83C\uDDF7",ES:"\uD83C\uDDEA\uD83C\uDDF8",IT:"\uD83C\uDDEE\uD83C\uDDF9",DE:"\uD83C\uDDE9\uD83C\uDDEA",GB:"\uD83C\uDDEC\uD83C\uDDE7",PT:"\uD83C\uDDF5\uD83C\uDDF9",NL:"\uD83C\uDDF3\uD83C\uDDF1",BE:"\uD83C\uDDE7\uD83C\uDDEA",CH:"\uD83C\uDDE8\uD83C\uDDED",AT:"\uD83C\uDDE6\uD83C\uDDF9",US:"\uD83C\uDDFA\uD83C\uDDF8",CA:"\uD83C\uDDE8\uD83C\uDDE6",MX:"\uD83C\uDDF2\uD83C\uDDFD",BR:"\uD83C\uDDE7\uD83C\uDDF7",AR:"\uD83C\uDDE6\uD83C\uDDF7",JP:"\uD83C\uDDEF\uD83C\uDDF5",CN:"\uD83C\uDDE8\uD83C\uDDF3",KR:"\uD83C\uDDF0\uD83C\uDDF7",IN:"\uD83C\uDDEE\uD83C\uDDF3",AU:"\uD83C\uDDE6\uD83C\uDDFA"}[u]||"\uD83C\uDF0D"," ",{FR:"France",ES:"Espagne",IT:"Italie",DE:"Allemagne",GB:"Royaume-Uni",PT:"Portugal",NL:"Pays-Bas",BE:"Belgique",CH:"Suisse",AT:"Autriche",US:"\xc9tats-Unis",CA:"Canada",MX:"Mexique",BR:"Br\xe9sil",AR:"Argentine",JP:"Japon",CN:"Chine",KR:"Cor\xe9e du Sud",IN:"Inde",AU:"Australie"}[u]||u," (",t,")"]},u)})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4 md:gap-6 lg:gap-8 max-w-6xl mx-auto",children:E.map(e=>(0,s.jsx)(r.Z,{plug:e,onClick:()=>{v(e),F(!0)}},e._id))}),0===E.length&&(0,s.jsx)("div",{className:"text-center py-20",children:(0,s.jsx)("p",{className:"text-gray-400 text-lg",children:"Aucun plug trouv\xe9"})})]}),(0,s.jsx)(D.Z,{plug:g,isOpen:j,onClose:()=>{F(!1),v(null)}})]})}}},function(e){e.O(0,[921,532,566,115,141,744],function(){return e(e.s=4531)}),_N_E=e.O()}]);