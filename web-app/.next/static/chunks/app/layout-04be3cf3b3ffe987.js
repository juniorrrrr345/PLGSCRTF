(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{698:function(e,t,r){Promise.resolve().then(r.t.bind(r,8932,23)),Promise.resolve().then(r.bind(r,7485)),Promise.resolve().then(r.bind(r,7705)),Promise.resolve().then(r.bind(r,1111)),Promise.resolve().then(r.bind(r,5068)),Promise.resolve().then(r.bind(r,8741)),Promise.resolve().then(r.t.bind(r,8029,23))},7705:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var n=r(7821),o=r(8078),a=r(8771);let l=async e=>{let t=await fetch(e);if(!t.ok)throw console.error("[BackgroundProvider] Failed to fetch:",t.status),Error("Failed to fetch background");return t.json()};function c(e){let{children:t}=e,{data:r,error:c}=(0,a.ZP)("/api/settings/background",l,{refreshInterval:3e4,revalidateOnFocus:!0,revalidateOnReconnect:!0}),[d,s]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{s(!0)},[]),(0,o.useEffect)(()=>{if(c&&console.error("[BackgroundProvider] Error loading background:",c),d&&(null==r?void 0:r.backgroundImage)){if(console.log("[BackgroundProvider] Applying background image:",r.backgroundImage),document.body.style.backgroundImage="url(".concat(r.backgroundImage,")"),document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundAttachment="fixed",document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundColor="#000000",document.body.style.minHeight="100vh",!document.getElementById("bg-overlay")){let e=document.createElement("div");e.id="bg-overlay",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.backgroundColor="rgba(0, 0, 0, 0.85)",e.style.zIndex="-1",e.style.pointerEvents="none",document.body.appendChild(e)}}else if(d&&!(null==r?void 0:r.backgroundImage)){console.log("[BackgroundProvider] No background image, cleaning up"),document.body.style.backgroundImage="",document.body.style.backgroundColor="",document.body.style.minHeight="";let e=document.getElementById("bg-overlay");e&&e.remove()}return()=>{document.body.style.backgroundImage="",document.body.style.backgroundColor="",document.body.style.minHeight="";let e=document.getElementById("bg-overlay");e&&e.remove()}},[d,null==r?void 0:r.backgroundImage,c]),(0,n.jsx)(n.Fragment,{children:t})}},1111:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var n=r(7821),o=r(6871),a=r.n(o),l=r(8078),c=r(9015),d=r(9648),s=r(6179),i=r(8741);function u(){let[e,t]=(0,l.useState)(!1),[r,o]=(0,l.useState)(!1),u=(0,s.usePathname)(),m="/"===u,{isTelegram:h}=(0,i.useTelegram)();(0,l.useEffect)(()=>{let e=()=>{o(window.scrollY>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,l.useEffect)(()=>{let r=e=>{let r=document.querySelector("nav");r&&!r.contains(e.target)&&t(!1)};if(e)return document.addEventListener("click",r),()=>document.removeEventListener("click",r)},[e]),(0,l.useEffect)(()=>{t(!1)},[u]);let b=[{href:"/",label:"Accueil"},{href:"/plugs",label:"Plugs"},{href:"/search",label:"Rechercher"},{href:"/about",label:"\xc0 propos"},{href:"/social",label:"R\xe9seaux"}];return(0,n.jsxs)("nav",{className:"fixed top-0 w-full z-50 bg-black/95 backdrop-blur-xl border-b border-white/20 shadow-2xl ".concat(h?"navbar":""),children:[(0,n.jsx)("div",{className:"max-w-7xl mx-auto ".concat(h?"px-3":"px-4 sm:px-6 lg:px-8"),children:(0,n.jsxs)("div",{className:"flex items-center justify-between ".concat(h?"h-12":"h-14 sm:h-16"),children:[(0,n.jsx)(a(),{href:"/",className:"flex items-center",children:(0,n.jsx)("div",{className:"".concat(h?"text-base":"text-lg sm:text-xl"," font-bold navbar-title ").concat(m&&!r?"text-white/80 drop-shadow-xl":"text-white drop-shadow-xl"),children:"CERTIF2PLUG"})}),!h&&(0,n.jsx)("div",{className:"hidden md:flex items-center space-x-1 lg:space-x-2",children:b.map(e=>(0,n.jsx)(a(),{href:e.href,className:"flex items-center gap-1 px-3 lg:px-4 py-2 rounded-lg text-sm lg:text-base font-medium ".concat(u===e.href?"bg-gradient-to-r from-purple-600/20 to-pink-600/20 text-white border border-purple-500/30":"text-white/80 hover:text-white hover:bg-white/10"),children:e.label},e.href))}),(0,n.jsx)("button",{onClick:()=>t(!e),className:"".concat(h?"":"md:hidden"," p-2 rounded-lg text-white hover:bg-white/10"),children:e?(0,n.jsx)(c.Z,{className:h?"h-5 w-5":"h-5 w-5 sm:h-6 sm:w-6"}):(0,n.jsx)(d.Z,{className:h?"h-5 w-5":"h-5 w-5 sm:h-6 sm:w-6"})})]})}),e&&(0,n.jsx)("div",{className:"".concat(h?"":"md:hidden"," absolute top-full left-0 right-0 bg-black border-t border-white/10 shadow-2xl z-50"),children:(0,n.jsx)("div",{className:"".concat(h?"px-3 py-2":"px-4 py-3"," space-y-1"),children:b.map(e=>(0,n.jsx)(a(),{href:e.href,onClick:()=>t(!1),className:"flex items-center gap-2 ".concat(h?"px-3 py-2 text-sm":"px-4 py-3 text-base"," rounded-lg font-medium ").concat(u===e.href?"bg-gradient-to-r from-purple-600/20 to-pink-600/20 text-white border border-purple-500/30":"text-white/90 hover:text-white hover:bg-white/10"),children:e.label},e.href))})})]})}},5068:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});var n=r(7821),o=r(8078),a=r(2410),l=r(5903);let c=o.forwardRef(function({title:e,titleId:t,...r},n){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))});var d=r(8741);function s(){let[e,t]=(0,o.useState)(!1),[r,s]=(0,o.useState)(0),{isTelegram:i}=(0,d.useTelegram)();return((0,o.useEffect)(()=>{if(i)return;let e=()=>{let e=document.documentElement.scrollHeight-window.innerHeight,r=window.scrollY/e*100;s(r),r<90&&window.innerWidth<768?t(!0):t(!1)};return e(),window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[i]),i)?null:(0,n.jsx)(a.M,{children:e&&(0,n.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed bottom-20 right-4 z-40 md:hidden",children:[(0,n.jsx)(l.E.button,{onClick:()=>{window.scrollTo({top:.8*window.innerHeight,behavior:"smooth"})},className:"bg-primary/20 backdrop-blur-sm border border-primary/50 rounded-full p-3 shadow-lg",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(l.E.div,{animate:{y:[0,5,0]},transition:{duration:1,repeat:1/0},children:(0,n.jsx)(c,{className:"w-6 h-6 text-primary"})}),(0,n.jsxs)("svg",{className:"absolute inset-0 w-full h-full -rotate-90",children:[(0,n.jsx)("circle",{cx:"50%",cy:"50%",r:"18",stroke:"rgba(139, 92, 246, 0.2)",strokeWidth:"2",fill:"none"}),(0,n.jsx)("circle",{cx:"50%",cy:"50%",r:"18",stroke:"rgb(139, 92, 246)",strokeWidth:"2",fill:"none",strokeDasharray:"".concat(2*Math.PI*18),strokeDashoffset:"".concat(2*Math.PI*18*(1-r/100)),className:"transition-all duration-200"})]})]})}),(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute -top-12 right-0 bg-darker/90 backdrop-blur-sm px-3 py-1 rounded-lg text-xs text-primary whitespace-nowrap",children:"Plus de contenu â†“"})]})})}},8741:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s},useTelegram:function(){return d}});var n=r(7821),o=r(8078),a=r(6819),l=r.n(a);let c=(0,o.createContext)({webApp:null,isTelegram:!1,theme:"dark"}),d=()=>(0,o.useContext)(c);function s(e){let{children:t}=e,[r,a]=(0,o.useState)(null),[d,s]=(0,o.useState)(!1),[i,u]=(0,o.useState)("dark");return(0,o.useEffect)(()=>{(()=>{var e;if(null===(e=window.Telegram)||void 0===e?void 0:e.WebApp){let e=window.Telegram.WebApp;a(e),s(!0),u(e.colorScheme||"dark"),e.ready(),e.expand(),document.documentElement.classList.add("telegram-app"),document.documentElement.setAttribute("data-theme",e.colorScheme||"dark")}})();let e=()=>{var e;if(null===(e=window.Telegram)||void 0===e?void 0:e.WebApp){let e=window.Telegram.WebApp;u(e.colorScheme||"dark"),document.documentElement.setAttribute("data-theme",e.colorScheme||"dark")}};return window.addEventListener("telegram-theme-changed",e),()=>{window.removeEventListener("telegram-theme-changed",e)}},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l(),{src:"https://telegram.org/js/telegram-web-app.js",strategy:"beforeInteractive",onLoad:()=>{var e;if(null===(e=window.Telegram)||void 0===e?void 0:e.WebApp){let e=window.Telegram.WebApp;a(e),s(!0),u(e.colorScheme||"dark"),e.ready(),e.expand(),document.documentElement.classList.add("telegram-app"),document.documentElement.setAttribute("data-theme",e.colorScheme||"dark")}}}),(0,n.jsx)(c.Provider,{value:{webApp:r,isTelegram:d,theme:i},children:t})]})}},8029:function(){},8932:function(e){e.exports={style:{fontFamily:"'__Inter_e8ce0c', '__Inter_Fallback_e8ce0c'",fontStyle:"normal"},className:"__className_e8ce0c"}}},function(e){e.O(0,[921,871,532,819,432,115,141,744],function(){return e(e.s=698)}),_N_E=e.O()}]);