(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[671],{2155:function(e,t,a){"use strict";var s,r;e.exports=(null==(s=a.g.process)?void 0:s.env)&&"object"==typeof(null==(r=a.g.process)?void 0:r.env)?a.g.process:a(1984)},3268:function(e,t,a){Promise.resolve().then(a.bind(a,1943))},1943:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return W}});var s=a(7821),r=a(8078),l=a(5903),n=a(2410),i=a(6179),o=a(7485),d=a(8771),c=a(2956);let u=async e=>{let t=new FormData;t.append("file",e),t.append("upload_preset","ml_default");let a=e.type.startsWith("video/"),s=await fetch("https://api.cloudinary.com/v1_1/demo/".concat(a?"video":"image","/upload"),{method:"POST",body:t}),r=await s.json();if(!s.ok){var l;throw Error((null===(l=r.error)||void 0===l?void 0:l.message)||"Demo upload failed")}return r.secure_url},m=async e=>{var t,a,s,r;try{try{return await u(e)}catch(e){console.log("Demo upload failed, trying main account...")}let r="dg1cfd3ld",l=new FormData;l.append("file",e),l.append("upload_preset","ml_default"),l.append("cloud_name",r),console.log("Starting upload...",{fileName:e.name,fileSize:e.size,fileType:e.type});let n=e.type.startsWith("video/"),i=await fetch("https://api.cloudinary.com/v1_1/".concat(r,"/").concat(n?"video":"image","/upload"),{method:"POST",body:l}),o=await i.json();if(!i.ok){if(console.error("Cloudinary error:",o),null===(a=o.error)||void 0===a?void 0:null===(t=a.message)||void 0===t?void 0:t.includes("preset"))throw Error("Configuration Cloudinary requise. Voir CLOUDINARY_SETUP.md");throw Error((null===(s=o.error)||void 0===s?void 0:s.message)||"Erreur upload")}return console.log("Upload successful!",o.secure_url),o.secure_url}catch(t){if(console.error("Upload failed:",t),null===(r=t.message)||void 0===r?void 0:r.includes("preset"))return console.log("Trying alternative upload method..."),x(e);throw t}},x=async e=>{try{let t=await p(e),a=new FormData;a.append("file",t),a.append("upload_preset","unsigned");let s=e.type.startsWith("video/"),r=await fetch("https://api.cloudinary.com/v1_1/".concat("dg1cfd3ld","/").concat(s?"video":"image","/upload"),{method:"POST",body:a});if(!r.ok)return h(e);return(await r.json()).secure_url}catch(t){return console.error("Alternative upload failed:",t),h(e)}},h=async e=>{let t=await p(e),a=await fetch("https://api.cloudinary.com/v1_1/".concat("dtjab1akq","/image/upload"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file:t,upload_preset:"ml_default"})});if(!a.ok)throw Error("Upload impossible. V\xe9rifiez votre connexion internet.");return(await a.json()).secure_url},p=e=>new Promise((t,a)=>{let s=new FileReader;s.readAsDataURL(e),s.onload=()=>t(s.result),s.onerror=e=>a(e)}),g=[{cloud_name:"demo",upload_preset:"ml_default",description:"Cloudinary Demo Account"},{cloud_name:"practicaldev",upload_preset:"sxhvhwgu",description:"Dev.to Public Cloudinary"},{cloud_name:"dx0pryfzn",upload_preset:"y5cibxmx",description:"Public Cloudinary Instance"}],b=async e=>{let t=e.type.startsWith("video/")?"video":"image";for(let a of g)try{console.log("Trying upload with ".concat(a.description,"..."));let s=new FormData;s.append("file",e),s.append("upload_preset",a.upload_preset);let r=await fetch("https://api.cloudinary.com/v1_1/".concat(a.cloud_name,"/").concat(t,"/upload"),{method:"POST",body:s}),l=await r.json();if(r.ok&&l.secure_url)return console.log("Upload successful with ".concat(a.description)),l.secure_url}catch(e){console.log("Failed with ".concat(a.description,", trying next..."))}throw Error("Tous les services d'upload ont \xe9chou\xe9")},v=async e=>{console.log("[Upload] Starting image upload...",{fileName:e.name,fileSize:e.size,fileType:e.type});let t=e.type.startsWith("image/"),a=e.type.startsWith("video/");if(!t&&!a)throw Error("Le fichier doit \xeatre une image ou une vid\xe9o");try{let t=await m(e);return console.log("[Upload] Success! URL:",t),t}catch(t){console.error("[Upload] Cloudinary error:",t);try{console.log("[Upload] Trying fallback configurations...");let t=await b(e);return console.log("[Upload] Fallback success! URL:",t),t}catch(e){console.error("[Upload] Fallback error:",e)}try{let t=new FormData;t.append("file",e);let a=await fetch("/api/upload",{method:"POST",body:t}),s=await a.json();if(!a.ok)throw Error(s.error||"Erreur upload: ".concat(a.status));return s.url}catch(e){if(console.error("[Upload] API error:",e),t instanceof Error)throw t;throw Error("Erreur lors de l'upload. Veuillez r\xe9essayer.")}}},j=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}),f=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))});function y(e){let{onUpload:t,currentImage:a,label:l="Choisir une image"}=e,[n,i]=(0,r.useState)(!1),[d,c]=(0,r.useState)(a||null),[u,m]=(0,r.useState)(0),x=async e=>{var s,r,l;let n=null===(s=e.target.files)||void 0===s?void 0:s[0];if(!n)return;if(!n.type.startsWith("image/")){o.default.error("Veuillez s\xe9lectionner une image");return}let d=new FileReader;d.onloadend=()=>{c(d.result)},d.readAsDataURL(n),i(!0),m(10);let u=null;try{u=setInterval(()=>{m(e=>e>=90?e:e>=70?e+2:e>=50?e+5:e+10)},500);let e=v(n),a=new Promise((e,t)=>setTimeout(()=>t(Error("Upload trop long. Veuillez r\xe9essayer.")),3e5)),s=await Promise.race([e,a]);u&&clearInterval(u),m(100),t(s),o.default.success("Image upload\xe9e avec succ\xe8s !"),setTimeout(()=>m(0),500)}catch(t){console.error("Upload error:",t),u&&clearInterval(u);let e="Erreur lors de l'upload";(null===(r=t.message)||void 0===r?void 0:r.includes("trop long"))?e=t.message:(null===(l=t.message)||void 0===l?void 0:l.includes("Network"))?e="Erreur de connexion. V\xe9rifiez votre internet.":t.message&&(e=t.message),o.default.error(e),c(a||null),m(0)}finally{i(!1),u&&clearInterval(u)}};return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:l}),(0,s.jsxs)("div",{className:"relative",children:[d?(0,s.jsxs)("div",{className:"relative rounded-lg overflow-hidden bg-gray-800 border-2 border-gray-700",children:[(0,s.jsx)("img",{src:d,alt:"Preview",className:"w-full h-48 object-cover"}),n&&(0,s.jsxs)("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center",children:[(0,s.jsx)(j,{className:"w-12 h-12 text-white mb-2 animate-pulse"}),(0,s.jsx)("div",{className:"w-48 bg-gray-700 rounded-full h-2 mb-2",children:(0,s.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(u,"%")}})}),(0,s.jsxs)("span",{className:"text-white text-sm",children:["Upload en cours... ",u,"%"]}),u>=90&&(0,s.jsx)("span",{className:"text-xs text-gray-400 mt-1",children:"Finalisation..."})]})]}):(0,s.jsxs)("label",{className:"border-2 border-dashed border-gray-700 rounded-lg p-8 text-center hover:border-gray-600 transition-colors cursor-pointer block",children:[(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:x,disabled:n,className:"hidden"}),(0,s.jsx)(f,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-400",children:"Cliquez ou glissez une image ici"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG, GIF"})]}),d&&!n&&(0,s.jsxs)("label",{className:"absolute inset-0 w-full h-full cursor-pointer group",children:[(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:x,disabled:n,className:"hidden"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-medium",children:"Changer l'image"})})]})]}),a&&!d&&(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Image actuelle sauvegard\xe9e"})]})}let N=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}),w=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}),D=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});function C(e){let{networks:t=[],onChange:a}=e;console.log("SocialNetworkManager - networks re\xe7us:",t);let[l,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)(null),[d,c]=(0,r.useState)({name:"",emoji:"",link:""}),u=(e,s)=>{a(t.map(t=>t.id===e?{...t,...s}:t))},m=e=>{a(t.filter(t=>t.id!==e))};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"R\xe9seaux sociaux"}),!l&&(0,s.jsxs)("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-all shadow-lg hover:shadow-xl",children:[(0,s.jsx)(N,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Ajouter"})]})]}),(0,s.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,s.jsx)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-3",children:i===e.id?(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"text",value:e.emoji,onChange:t=>u(e.id,{emoji:t.target.value}),className:"w-14 h-14 px-2 py-1 bg-gray-700 border border-gray-600 rounded text-center text-2xl",placeholder:"\uD83D\uDE00"}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)("input",{type:"text",value:e.name,onChange:t=>u(e.id,{name:t.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Nom du r\xe9seau"}),(0,s.jsx)("input",{type:"text",value:e.link,onChange:t=>u(e.id,{link:t.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"@username ou lien"})]})]}),(0,s.jsx)("div",{className:"flex justify-end gap-2",children:(0,s.jsx)("button",{onClick:()=>o(null),className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm font-medium",children:"Valider"})})]}):(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-2xl",children:e.emoji}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-white",children:e.name}),(0,s.jsx)("div",{className:"text-sm text-gray-400",children:e.link})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>o(e.id),className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,s.jsx)(w,{className:"w-5 h-5 text-gray-400"})}),(0,s.jsx)("button",{onClick:()=>m(e.id),className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",children:(0,s.jsx)(D,{className:"w-5 h-5 text-red-500"})})]})]})},e.id))}),l&&(0,s.jsxs)("div",{className:"bg-gray-800 border-2 border-blue-600 rounded-lg p-4 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"1. Choisissez un emoji"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("input",{type:"text",value:d.emoji,onChange:e=>c({...d,emoji:e.target.value}),className:"w-16 h-16 px-2 py-2 bg-gray-700 border border-gray-600 rounded text-center text-3xl",placeholder:"\uD83D\uDE00"}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:["\uD83D\uDC7B","\uD83D\uDCF7","\uD83D\uDCAC","✈️","\uD83D\uDD12","\uD83D\uDD10","\uD83E\uDD54","\uD83C\uDFB5","\uD83D\uDCF1","\uD83D\uDCBB","\uD83C\uDF10","\uD83D\uDCE7"].map(e=>(0,s.jsx)("button",{onClick:()=>c({...d,emoji:e}),className:"text-2xl hover:bg-gray-700 p-2 rounded transition-colors",children:e},e))})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"2. Nom du r\xe9seau"}),(0,s.jsx)("input",{type:"text",value:d.name,onChange:e=>c({...d,name:e.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white text-base",placeholder:"Ex: Instagram, WhatsApp, Telegram..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"3. Lien ou username"}),(0,s.jsx)("input",{type:"text",value:d.link,onChange:e=>c({...d,link:e.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white text-base",placeholder:"Ex: @username, +33612345678, https://..."}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Entrez un username, num\xe9ro de t\xe9l\xe9phone ou lien complet"})]}),(0,s.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,s.jsx)("button",{onClick:()=>{n(!1),c({name:"",emoji:"",link:""})},className:"flex-1 px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors",children:"Annuler"}),(0,s.jsx)("button",{onClick:()=>{d.name&&d.emoji&&d.link&&(a([...t,{id:Date.now().toString(),...d}]),c({name:"",emoji:"",link:""}),n(!1))},disabled:!d.name||!d.emoji||!d.link,className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Ajouter"})]})]})]})}let k={FR:{name:"France",flag:"\uD83C\uDDEB\uD83C\uDDF7",departments:["01 - Ain","02 - Aisne","03 - Allier","04 - Alpes-de-Haute-Provence","05 - Hautes-Alpes","06 - Alpes-Maritimes","07 - Ard\xe8che","08 - Ardennes","09 - Ari\xe8ge","10 - Aube","11 - Aude","12 - Aveyron","13 - Bouches-du-Rh\xf4ne","14 - Calvados","15 - Cantal","16 - Charente","17 - Charente-Maritime","18 - Cher","19 - Corr\xe8ze","21 - C\xf4te-d'Or","22 - C\xf4tes-d'Armor","23 - Creuse","24 - Dordogne","25 - Doubs","26 - Dr\xf4me","27 - Eure","28 - Eure-et-Loir","29 - Finist\xe8re","30 - Gard","31 - Haute-Garonne","32 - Gers","33 - Gironde","34 - H\xe9rault","35 - Ille-et-Vilaine","36 - Indre","37 - Indre-et-Loire","38 - Is\xe8re","39 - Jura","40 - Landes","41 - Loir-et-Cher","42 - Loire","43 - Haute-Loire","44 - Loire-Atlantique","45 - Loiret","46 - Lot","47 - Lot-et-Garonne","48 - Loz\xe8re","49 - Maine-et-Loire","50 - Manche","51 - Marne","52 - Haute-Marne","53 - Mayenne","54 - Meurthe-et-Moselle","55 - Meuse","56 - Morbihan","57 - Moselle","58 - Ni\xe8vre","59 - Nord","60 - Oise","61 - Orne","62 - Pas-de-Calais","63 - Puy-de-D\xf4me","64 - Pyr\xe9n\xe9es-Atlantiques","65 - Hautes-Pyr\xe9n\xe9es","66 - Pyr\xe9n\xe9es-Orientales","67 - Bas-Rhin","68 - Haut-Rhin","69 - Rh\xf4ne","70 - Haute-Sa\xf4ne","71 - Sa\xf4ne-et-Loire","72 - Sarthe","73 - Savoie","74 - Haute-Savoie","75 - Paris","76 - Seine-Maritime","77 - Seine-et-Marne","78 - Yvelines","79 - Deux-S\xe8vres","80 - Somme","81 - Tarn","82 - Tarn-et-Garonne","83 - Var","84 - Vaucluse","85 - Vend\xe9e","86 - Vienne","87 - Haute-Vienne","88 - Vosges","89 - Yonne","90 - Territoire de Belfort","91 - Essonne","92 - Hauts-de-Seine","93 - Seine-Saint-Denis","94 - Val-de-Marne","95 - Val-d'Oise"]},BE:{name:"Belgique",flag:"\uD83C\uDDE7\uD83C\uDDEA",departments:["Anvers","Brabant flamand","Brabant wallon","Bruxelles","Flandre-Occidentale","Flandre-Orientale","Hainaut","Li\xe8ge","Limbourg","Luxembourg","Namur"]},CH:{name:"Suisse",flag:"\uD83C\uDDE8\uD83C\uDDED",departments:["Argovie","Appenzell Rhodes-Ext\xe9rieures","Appenzell Rhodes-Int\xe9rieures","B\xe2le-Campagne","B\xe2le-Ville","Berne","Fribourg","Gen\xe8ve","Glaris","Grisons","Jura","Lucerne","Neuch\xe2tel","Nidwald","Obwald","Saint-Gall","Schaffhouse","Schwyz","Soleure","Tessin","Thurgovie","Uri","Valais","Vaud","Zoug","Zurich"]},CA:{name:"Canada",flag:"\uD83C\uDDE8\uD83C\uDDE6",departments:["Alberta","Colombie-Britannique","\xcele-du-Prince-\xc9douard","Manitoba","Nouveau-Brunswick","Nouvelle-\xc9cosse","Ontario","Qu\xe9bec","Saskatchewan","Terre-Neuve-et-Labrador"]},LU:{name:"Luxembourg",flag:"\uD83C\uDDF1\uD83C\uDDFA",departments:["Capellen","Clervaux","Diekirch","Echternach","Esch-sur-Alzette","Grevenmacher","Luxembourg","Mersch","Redange","Remich","Vianden","Wiltz"]},MA:{name:"Maroc",flag:"\uD83C\uDDF2\uD83C\uDDE6",departments:["Casablanca-Settat","Rabat-Sal\xe9-K\xe9nitra","Marrakech-Safi","F\xe8s-Mekn\xe8s","Tanger-T\xe9touan-Al Hoce\xefma","Oriental","B\xe9ni Mellal-Kh\xe9nifra","Dr\xe2a-Tafilalet","Souss-Massa","Guelmim-Oued Noun","La\xe2youne-Sakia El Hamra","Dakhla-Oued Ed-Dahab"]},US:{name:"\xc9tats-Unis",flag:"\uD83C\uDDFA\uD83C\uDDF8",departments:["Alabama","Alaska","Arizona","Arkansas","Californie","Caroline du Nord","Caroline du Sud","Colorado","Connecticut","Dakota du Nord","Dakota du Sud","Delaware","Floride","G\xe9orgie","Hawa\xef","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiane","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New York","Nouveau-Mexique","Ohio","Oklahoma","Oregon","Pennsylvanie","Rhode Island","Tennessee","Texas","Utah","Vermont","Virginie","Virginie-Occidentale","Washington","Wisconsin","Wyoming"]},DE:{name:"Allemagne",flag:"\uD83C\uDDE9\uD83C\uDDEA",departments:["Bade-Wurtemberg","Bavi\xe8re","Berlin","Brandebourg","Br\xeame","Hambourg","Hesse","Mecklembourg-Pom\xe9ranie-Occidentale","Basse-Saxe","Rh\xe9nanie-du-Nord-Westphalie","Rh\xe9nanie-Palatinat","Sarre","Saxe","Saxe-Anhalt","Schleswig-Holstein","Thuringe"]},ES:{name:"Espagne",flag:"\uD83C\uDDEA\uD83C\uDDF8",departments:["Andalousie","Aragon","Asturies","Bal\xe9ares","Canaries","Cantabrie","Castille-et-Le\xf3n","Castille-La Manche","Catalogne","Estr\xe9madure","Galice","La Rioja","Madrid","Murcie","Navarre","Pays basque","Valence"]},IT:{name:"Italie",flag:"\uD83C\uDDEE\uD83C\uDDF9",departments:["Abruzzes","Basilicate","Calabre","Campanie","\xc9milie-Romagne","Frioul-V\xe9n\xe9tie Julienne","Latium","Ligurie","Lombardie","Marches","Molise","Ombrie","Pi\xe9mont","Pouilles","Sardaigne","Sicile","Toscane","Trentin-Haut-Adige","Vall\xe9e d'Aoste","V\xe9n\xe9tie"]},PT:{name:"Portugal",flag:"\uD83C\uDDF5\uD83C\uDDF9",departments:["Aveiro","Beja","Braga","Bragance","Castelo Branco","Coimbra","\xc9vora","Faro","Guarda","Leiria","Lisbonne","Portalegre","Porto","Santar\xe9m","Set\xfabal","Viana do Castelo","Vila Real","Viseu","A\xe7ores","Mad\xe8re"]},NL:{name:"Pays-Bas",flag:"\uD83C\uDDF3\uD83C\uDDF1",departments:["Drenthe","Flevoland","Frise","Gueldre","Groningue","Hollande-M\xe9ridionale","Hollande-Septentrionale","Limbourg","Brabant-Septentrional","Overijssel","Utrecht","Z\xe9lande"]},GB:{name:"Royaume-Uni",flag:"\uD83C\uDDEC\uD83C\uDDE7",departments:["Londres","Birmingham","Manchester","Glasgow","Liverpool","Leeds","Sheffield","\xc9dimbourg","Bristol","Cardiff","Leicester","Coventry","Bradford","Belfast","Nottingham","Newcastle","Southampton","Portsmouth","York","Aberdeen"]}},E=e=>{let t=[];return e.forEach(e=>{let a=k[e];a&&t.push(...a.departments)}),t.sort()},L=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))});function S(e){let{selectedCountries:t,selectedDepartments:a,onCountriesChange:l,onDepartmentsChange:n,showDepartments:i=!1}=e,[o,d]=(0,r.useState)([]),[c,u]=(0,r.useState)("");(0,r.useEffect)(()=>{i&&t.length>0?d(E(t)):d([])},[t,i]);let m=e=>{t.includes(e)?l(t.filter(t=>t!==e)):l([...t,e])},x=e=>{a.includes(e)?n(a.filter(t=>t!==e)):n([...a,e])},h=c?o.filter(e=>e.toLowerCase().includes(c.toLowerCase())):o;return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-300 mb-3",children:"Pays disponibles"}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:Object.entries(k).map(e=>{let[a,r]=e;return(0,s.jsxs)("button",{type:"button",onClick:()=>m(a),className:"p-3 rounded-lg border-2 transition-all flex items-center gap-2 ".concat(t.includes(a)?"border-blue-500 bg-blue-500/20 text-white":"border-gray-600 bg-gray-800 text-gray-300 hover:border-gray-500"),children:[(0,s.jsx)("span",{className:"text-xl",children:r.flag}),(0,s.jsx)("span",{className:"text-sm font-medium",children:r.name}),t.includes(a)&&(0,s.jsx)(L,{className:"w-4 h-4 ml-auto"})]},a)})})]}),i&&o.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("label",{className:"text-sm font-semibold text-gray-300",children:["D\xe9partements de livraison (",a.length,"/",o.length,")"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{n(o)},className:"text-xs px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:"Tout s\xe9lectionner"}),(0,s.jsx)("button",{type:"button",onClick:()=>{n([])},className:"text-xs px-3 py-1 bg-gray-700 hover:bg-gray-600 text-white rounded-lg",children:"Tout effacer"})]})]}),(0,s.jsx)("input",{type:"text",placeholder:"Rechercher un d\xe9partement...",value:c,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 mb-3 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:outline-none"}),(0,s.jsx)("div",{className:"max-h-60 overflow-y-auto bg-gray-800 border border-gray-700 rounded-lg p-2",children:t.map(e=>{let t=k[e];if(!t)return null;let r=h.filter(e=>t.departments.includes(e));return 0===r.length?null:(0,s.jsxs)("div",{className:"mb-4 last:mb-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-gray-400 sticky top-0 bg-gray-800 py-1",children:[(0,s.jsx)("span",{className:"text-lg",children:t.flag}),(0,s.jsx)("span",{children:t.name})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1 pl-6",children:r.map(e=>(0,s.jsxs)("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-700 rounded cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:a.includes(e),onChange:()=>x(e),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-300",children:e})]},e))})]},e)})})]})]})}var T=a(9015);function P(e){let{postalCodes:t=[],onChange:a,placeholder:l="Code postal"}=e,[n,i]=(0,r.useState)(""),[o,d]=(0,r.useState)(""),c=()=>{let e=n.trim();if(!e){d("Entrez un code postal");return}if(!/^\d{4,6}$/.test(e)){d("Format invalide (4-6 chiffres)");return}if(t.includes(e)){d("Code postal d\xe9j\xe0 ajout\xe9");return}a([...t,e]),i(""),d("")},u=e=>{a(t.filter(t=>t!==e))};return(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("input",{type:"text",value:n,onChange:e=>{i(e.target.value),d("")},onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),c())},placeholder:l,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:border-primary focus:outline-none transition-colors"}),o&&(0,s.jsx)("p",{className:"text-red-400 text-xs mt-1",children:o})]}),(0,s.jsxs)("button",{type:"button",onClick:c,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,s.jsx)(N,{className:"w-4 h-4"}),"Ajouter"]})]}),t.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(e=>(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-gray-700 text-white rounded-full text-sm",children:[e,(0,s.jsx)("button",{type:"button",onClick:()=>u(e),className:"p-0.5 hover:bg-gray-600 rounded-full transition-colors",children:(0,s.jsx)(T.Z,{className:"w-3 h-3"})})]},e))}),0===t.length&&(0,s.jsx)("p",{className:"text-gray-500 text-sm",children:"Aucun code postal ajout\xe9"})]})}function M(e){let{endTime:t}=e,[a,l]=(0,r.useState)("");return(0,r.useEffect)(()=>{let e=()=>{let e=new Date().getTime(),a=new Date(t).getTime()-e;if(a<0){l("Maintenance termin\xe9e");return}l("".concat(Math.floor(a/864e5),"j ").concat(Math.floor(a%864e5/36e5),"h ").concat(Math.floor(a%36e5/6e4),"m ").concat(Math.floor(a%6e4/1e3),"s"))};e();let a=setInterval(e,1e3);return()=>clearInterval(a)},[t]),(0,s.jsxs)("div",{className:"mt-4 p-6 bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-3 text-center",children:"⏱️ Temps restant"}),(0,s.jsx)("p",{className:"text-3xl font-mono font-bold text-white text-center drop-shadow-lg",children:a}),(0,s.jsxs)("p",{className:"text-xs text-gray-400 mt-3 text-center",children:["Fin pr\xe9vue : ",new Date(t).toLocaleString("fr-FR")]})]})}let A=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))});var F=a(5169);let O=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}),B=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))});var I=a(7763);let R=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75a4.5 4.5 0 0 1-4.884 4.484c-1.076-.091-2.264.071-2.95.904l-7.152 8.684a2.548 2.548 0 1 1-3.586-3.586l8.684-7.152c.833-.686.995-1.874.904-2.95a4.5 4.5 0 0 1 6.336-4.486l-3.276 3.276a3.004 3.004 0 0 0 2.25 2.25l3.276-3.276c.256.565.398 1.192.398 1.852Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.867 19.125h.008v.008h-.008v-.008Z"}))}),_=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))});var z=a(9648);let U=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}),Z=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))});var V=a(2155);let H=e=>fetch(e).then(e=>e.json());function W(){var e,t,a,u,m,x,h,p,g,b,v,j,f;let k=(0,i.useRouter)(),[E,W]=(0,r.useState)(!1),[G,q]=(0,r.useState)(!1),[J,Y]=(0,r.useState)(""),[K,X]=(0,r.useState)("dashboard"),[Q,$]=(0,r.useState)(!1),[ee,et]=(0,r.useState)(null),[ea,es]=(0,r.useState)(!1),[er,el]=(0,r.useState)(!1),[en,ei]=(0,r.useState)(""),[eo,ed]=(0,r.useState)(""),[ec,eu]=(0,r.useState)(""),[em,ex]=(0,r.useState)("MINI APP CERTIF2PLUG \uD83D\uDD0C"),[eh,ep]=(0,r.useState)({}),[eg,eb]=(0,r.useState)([]),[ev,ej]=(0,r.useState)([]),[ef,ey]=(0,r.useState)(""),[eN,ew]=(0,r.useState)(""),[eD,eC]=(0,r.useState)(!1),[ek,eE]=(0,r.useState)(""),[eL,eS]=(0,r.useState)(""),[eT,eP]=(0,r.useState)(null),[eM,eA]=(0,r.useState)({days:0,hours:1,minutes:0}),[eF,eO]=(0,r.useState)(null),[eB,eI]=(0,r.useState)(!1),[eR,e_]=(0,r.useState)({name:"",photo:"",socialNetworks:{},customNetworks:[],methods:{delivery:!1,shipping:!1,meetup:!1},deliveryDepartments:[],deliveryPostalCodes:[],meetupDepartments:[],meetupPostalCodes:[],countries:["FR"],location:{country:"FR",department:"",postalCode:""},description:"",referralLink:""}),{data:ez}=(0,d.ZP)(E?"/api/stats":null,H),{data:eU}=(0,d.ZP)(E?"/api/settings":null,H),{data:eZ}=(0,d.ZP)(E?"/api/plugs?all=true":null,H),{data:eV}=(0,d.ZP)(E?"/api/applications":null,H);(0,r.useEffect)(()=>{try{let e=localStorage.getItem("adminAuth");"true"===e&&W(!0);let t=()=>{el(window.innerWidth>=1024)};return t(),window.addEventListener("resize",t),q(!1),()=>window.removeEventListener("resize",t)}catch(e){console.error("Error checking auth:",e),q(!1)}},[]),(0,r.useEffect)(()=>{eU&&(ei(eU.welcomeMessage||""),ed(eU.infoText||""),ex(eU.miniAppButtonText||"MINI APP CERTIF2PLUG \uD83D\uDD0C"),eU.botSocialNetworks&&ej(eU.botSocialNetworks),eU.telegramChannelLink&&ey(eU.telegramChannelLink),eU.telegramChannelId&&ew(eU.telegramChannelId),void 0!==eU.maintenanceMode&&eC(eU.maintenanceMode),void 0!==eU.maintenanceBackgroundImage&&eE(eU.maintenanceBackgroundImage),void 0!==eU.maintenanceLogo&&eS(eU.maintenanceLogo),eU.maintenanceEndTime&&eP(new Date(eU.maintenanceEndTime)),eU.shopSocialNetworks&&eU.shopSocialNetworks.length>0?eb(eU.shopSocialNetworks.map((e,t)=>({...e,id:e.id||"network-".concat(t,"-").concat(Date.now())}))):eU.socialNetworks?(console.log("Fallback sur socialNetworks:",eU.socialNetworks),eb(Object.entries(eU.socialNetworks).map(e=>{let[t,a]=e;return{id:t,name:a.name||t,emoji:a.emoji||"\uD83D\uDD17",link:a.link||a.url||"",order:a.order||0}}))):console.log("Aucun r\xe9seau social trouv\xe9"))},[eU]);let eH=async e=>{e.preventDefault();try{(await fetch("/api/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:J})})).ok?(W(!0),localStorage.setItem("adminAuth","true"),o.default.success("Connexion r\xe9ussie !")):o.default.error("Mot de passe incorrect")}catch(e){o.default.error("Erreur de connexion")}},eW=async()=>{try{(await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({welcomeMessage:en,infoText:eo,miniAppButtonText:em})})).ok&&(o.default.success("Param\xe8tres sauvegard\xe9s !"),(0,c.j)("/api/settings"))}catch(e){o.default.error("Erreur lors de la sauvegarde")}},eG=async()=>{try{(await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({botSocialNetworks:ev})})).ok&&(o.default.success("R\xe9seaux sociaux du bot sauvegard\xe9s !"),(0,c.j)("/api/settings"))}catch(e){o.default.error("Erreur lors de la sauvegarde")}},eq=async()=>{try{let e={...eR,countries:eR.countries,country:eR.countries[0]||"FR",department:eR.location.department,postalCode:eR.location.postalCode,countryFlag:eJ(eR.countries[0]||"FR"),socialNetworks:eR.customNetworks?eR.customNetworks.reduce((e,t)=>(e[t.name.toLowerCase()]=t.link,e),{}):{}};(await fetch("/api/admin/plugs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok&&(o.default.success("Plug ajout\xe9 avec succ\xe8s !"),$(!1),e_({name:"",photo:"",socialNetworks:{},customNetworks:[],methods:{delivery:!1,shipping:!1,meetup:!1},deliveryDepartments:[],deliveryPostalCodes:[],meetupDepartments:[],meetupPostalCodes:[],countries:["FR"],location:{country:"FR",department:"",postalCode:""},description:"",referralLink:""}),(0,c.j)("/api/plugs?all=true"),(0,c.j)("/api/plugs"),(0,c.j)("/api/stats"))}catch(e){o.default.error("Erreur lors de l'ajout")}},eJ=e=>({FR:"\uD83C\uDDEB\uD83C\uDDF7",BE:"\uD83C\uDDE7\uD83C\uDDEA",CH:"\uD83C\uDDE8\uD83C\uDDED",CA:"\uD83C\uDDE8\uD83C\uDDE6",LU:"\uD83C\uDDF1\uD83C\uDDFA"})[e]||"\uD83C\uDF0D",eY=async()=>{try{var e;let t={...ee,countryFlag:eJ((null===(e=ee.location)||void 0===e?void 0:e.country)||ee.country||"FR"),socialNetworks:ee.customNetworks?ee.customNetworks.reduce((e,t)=>(e[t.name.toLowerCase()]=t.link,e),{}):ee.socialNetworks||{}},a=await fetch("/api/plugs/".concat(ee._id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(a.ok)o.default.success("Plug mis \xe0 jour avec succ\xe8s !"),$(!1),et(null),(0,c.j)("/api/plugs?all=true"),(0,c.j)("/api/plugs"),(0,c.j)("/api/stats");else{let e=await a.json();o.default.error(e.error||"Erreur lors de la mise \xe0 jour")}}catch(e){console.error("Update error:",e),o.default.error("Erreur lors de la mise \xe0 jour")}},eK=async()=>{try{(await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({telegramChannelLink:ef,telegramChannelId:eN})})).ok&&(o.default.success("Configuration Telegram mise \xe0 jour !"),(0,c.j)("/api/settings"))}catch(e){o.default.error("Erreur lors de la mise \xe0 jour")}},eX=async()=>{try{console.log("Sauvegarde des r\xe9seaux sociaux:",eg),(await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shopSocialNetworks:eg})})).ok?o.default.success("R\xe9seaux sociaux sauvegard\xe9s"):o.default.error("Erreur lors de la sauvegarde")}catch(e){console.error("Erreur:",e),o.default.error("Erreur lors de la sauvegarde")}},eQ=async e=>{if(confirm("\xcates-vous s\xfbr de vouloir supprimer ce plug ?"))try{(await fetch("/api/plugs/".concat(e),{method:"DELETE"})).ok&&(o.default.success("Plug supprim\xe9 !"),(0,c.j)("/api/plugs?all=true"),(0,c.j)("/api/plugs"),(0,c.j)("/api/stats"))}catch(e){o.default.error("Erreur lors de la suppression")}},e$=async e=>{try{(await fetch("/api/applications/".concat(e,"/approve"),{method:"POST"})).ok&&(o.default.success("Candidature approuv\xe9e !"),(0,c.j)("/api/applications"),(0,c.j)("/api/plugs?all=true"))}catch(e){o.default.error("Erreur lors de l'approbation")}},e0=async e=>{try{(await fetch("/api/applications/".concat(e,"/reject"),{method:"POST"})).ok&&(o.default.success("Candidature rejet\xe9e"),(0,c.j)("/api/applications"))}catch(e){o.default.error("Erreur lors du rejet")}};if(!E)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4",children:(0,s.jsxs)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"glass-card max-w-md w-full p-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-8 text-center gradient-text",children:"Panel Admin"}),(0,s.jsxs)("form",{onSubmit:eH,className:"space-y-4",children:[(0,s.jsx)("input",{type:"password",value:J,onChange:e=>Y(e.target.value),placeholder:"Mot de passe administrateur",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:border-primary focus:outline-none transition-colors",required:!0,autoFocus:!0}),(0,s.jsx)("button",{type:"submit",className:"btn-primary w-full",children:"Se connecter"})]}),(0,s.jsxs)("button",{onClick:()=>k.push("/"),className:"text-gray-400 hover:text-white transition-colors mt-4 flex items-center gap-2 mx-auto",children:[(0,s.jsx)(A,{className:"w-4 h-4"}),"Retour \xe0 l'accueil"]})]})});let e2=[{id:"plugs",label:"Plugs",icon:F.Z},{id:"applications",label:"Candidatures",icon:O},{id:"social",label:"R\xe9seaux Sociaux",icon:B},{id:"telegram",label:"Telegram",icon:I.Z},{id:"maintenance",label:"Maintenance",icon:R},{id:"settings",label:"Param\xe8tres",icon:_}];return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-950",children:[(0,s.jsx)("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 bg-gray-900/95 backdrop-blur-md border-b border-gray-800",children:(0,s.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,s.jsx)("button",{onClick:()=>es(!ea),className:"p-2 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors","aria-label":"Menu",children:(0,s.jsx)(z.Z,{className:"w-6 h-6 text-white"})}),(0,s.jsx)("h1",{className:"text-lg font-bold text-white",children:"Admin Panel"}),(0,s.jsx)("div",{className:"w-10"})," "]})}),ea&&(0,s.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-30",onClick:()=>es(!1)}),(0,s.jsxs)("div",{className:"flex relative",children:[(ea||er)&&(0,s.jsx)("aside",{className:"\n                fixed lg:sticky top-0 left-0 h-screen \n                w-72 sm:w-80 lg:w-64 xl:w-72\n                bg-gray-900/95 backdrop-blur-md \n                border-r border-gray-800 \n                z-40 shadow-2xl\n                overflow-y-auto\n                ".concat(ea?"pt-20 lg:pt-0":"","\n              "),children:(0,s.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,s.jsxs)("div",{className:"hidden lg:block mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl xl:text-3xl font-black text-white mb-2",children:"Admin Panel"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Gestion de la boutique"})]}),(0,s.jsx)("nav",{className:"space-y-1 sm:space-y-2",children:e2.map(e=>(0,s.jsxs)("button",{onClick:()=>{X(e.id),es(!1)},className:"\n                        w-full flex items-center gap-3 \n                        px-3 sm:px-4 py-2.5 sm:py-3 \n                        rounded-lg sm:rounded-xl \n                        transition-all duration-200 \n                        text-sm sm:text-base font-medium\n                        ".concat(K===e.id?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg scale-[1.02]":"bg-gray-800/50 hover:bg-gray-800 text-gray-300 hover:text-white border border-gray-700/50","\n                      "),children:[(0,s.jsx)(e.icon,{className:"w-5 h-5 flex-shrink-0"}),(0,s.jsx)("span",{className:"truncate text-white",children:e.label})]},e.id))}),(0,s.jsxs)("button",{onClick:()=>{W(!1),localStorage.removeItem("adminAuth"),Y(""),k.push("/")},className:" w-full mt-6 sm:mt-8  px-3 sm:px-4 py-2.5 sm:py-3  bg-red-600/90 hover:bg-red-600  text-white rounded-lg sm:rounded-xl  text-sm sm:text-base font-medium  transition-all duration-200 flex items-center justify-center gap-2  shadow-lg hover:shadow-red-500/20 ",children:[(0,s.jsx)(A,{className:"w-4 sm:w-5 h-4 sm:h-5"}),"D\xe9connexion"]})]})}),(0,s.jsx)("main",{className:" flex-1  w-full min-h-screen p-4 sm:p-6 lg:p-8  pt-20 lg:pt-8 overflow-x-hidden ",children:(0,s.jsxs)("div",{children:["dashboard"===K&&(0,s.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Tableau de bord"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[(0,s.jsxs)("div",{className:"glass-card p-4 sm:p-6 hover:shadow-lg transition-shadow duration-200",children:[(0,s.jsx)(U,{className:"w-6 sm:w-8 h-6 sm:h-8 text-primary mb-2"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Utilisateurs"}),(0,s.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-white",children:(null==ez?void 0:ez.userCount)||0})]}),(0,s.jsxs)("div",{className:"glass-card p-4 sm:p-6 hover:shadow-lg transition-shadow duration-200",children:[(0,s.jsx)(F.Z,{className:"w-6 sm:w-8 h-6 sm:h-8 text-green-500 mb-2"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Plugs actifs"}),(0,s.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-white",children:(null==ez?void 0:ez.plugCount)||0})]}),(0,s.jsxs)("div",{className:"glass-card p-4 sm:p-6 hover:shadow-lg transition-shadow duration-200",children:[(0,s.jsx)(Z,{className:"w-6 sm:w-8 h-6 sm:h-8 text-red-500 mb-2"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Total likes"}),(0,s.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-white",children:(null==eZ?void 0:eZ.reduce((e,t)=>e+t.likes,0))||0})]}),(0,s.jsxs)("div",{className:"glass-card p-4 sm:p-6 hover:shadow-lg transition-shadow duration-200",children:[(0,s.jsx)(O,{className:"w-6 sm:w-8 h-6 sm:h-8 text-yellow-500 mb-2"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Candidatures"}),(0,s.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-white",children:(null==eV?void 0:eV.filter(e=>"pending"===e.status).length)||0})]})]}),(0,s.jsxs)("div",{className:"glass-card p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white text-white mb-4",children:"\uD83C\uDFC6 Top Plugs"}),(0,s.jsx)("div",{className:"space-y-3",children:null==eZ?void 0:eZ.slice(0,5).map((e,t)=>{var a;return(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("span",{className:"text-2xl",children:[0===t&&"\uD83E\uDD47",1===t&&"\uD83E\uDD48",2===t&&"\uD83E\uDD49",t>2&&"".concat(t+1,".")]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-white",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:[(null===(a=e.location)||void 0===a?void 0:a.department)||e.department||""," • ",e.likes||0," likes"]})]})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-400",children:[e.referralCount||0," parrainages"]})]},e._id)})})]}),(0,s.jsxs)("div",{className:"glass-card p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"\uD83D\uDC65 Top Parrains"}),(0,s.jsx)("div",{className:"space-y-3",children:null==eZ?void 0:eZ.sort((e,t)=>(t.referralCount||0)-(e.referralCount||0)).slice(0,5).map((e,t)=>{var a;return(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("span",{className:"text-2xl",children:[0===t&&"\uD83E\uDD47",1===t&&"\uD83E\uDD48",2===t&&"\uD83E\uDD49",t>2&&"".concat(t+1,".")]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-white",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:(null===(a=e.location)||void 0===a?void 0:a.department)||e.department||""})]})]}),(0,s.jsxs)("div",{className:"text-sm font-medium text-blue-400",children:[e.referralCount||0," parrainages"]})]},e._id)})})]})]}),"plugs"===K&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 sm:justify-between sm:items-center",children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Gestion des Plugs"}),(0,s.jsxs)("button",{onClick:()=>$(!0),className:"w-full sm:w-auto btn-primary flex items-center justify-center gap-2 py-3",children:[(0,s.jsx)(N,{className:"w-5 h-5"}),"Ajouter un plug"]})]}),(0,s.jsx)("div",{className:"grid gap-4",children:null==eZ?void 0:eZ.map(e=>{var t,a,r,n,i;return(0,s.jsxs)(l.E.div,{whileHover:{scale:1.01},className:"glass-card p-4 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[e.photo&&(0,s.jsx)("img",{src:e.photo,alt:e.name,className:"w-16 h-16 rounded-lg object-cover"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-white text-lg",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:[(null===(t=e.location)||void 0===t?void 0:t.country)||e.country||"FR"," - ",(null===(a=e.location)||void 0===a?void 0:a.department)||e.department||""," • ❤️ ",e.likes||0," • \uD83D\uDD17 ",e.referralCount||0]}),(0,s.jsxs)("div",{className:"flex gap-2 mt-1",children:[(null===(r=e.methods)||void 0===r?void 0:r.delivery)&&(0,s.jsx)("span",{className:"text-xs bg-blue-500/20 text-blue-400 px-2 py-1 rounded",children:"\uD83D\uDE9A Livraison"}),(null===(n=e.methods)||void 0===n?void 0:n.shipping)&&(0,s.jsx)("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded",children:"\uD83D\uDCEE Envoi"}),(null===(i=e.methods)||void 0===i?void 0:i.meetup)&&(0,s.jsx)("span",{className:"text-xs bg-purple-500/20 text-purple-400 px-2 py-1 rounded",children:"\uD83E\uDD1D Meetup"})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,s.jsx)("button",{onClick:()=>{let t=e.referralLink||"https://t.me/".concat(V.env.NEXT_PUBLIC_BOT_USERNAME||"PLGSCRTF_BOT","?start=plug_").concat(e._id);navigator.clipboard.writeText(t),o.default.success("Lien de parrainage copi\xe9 !")},className:"text-sm px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-white transition-all flex items-center gap-1",children:"\uD83D\uDD17 Copier lien"}),(0,s.jsx)("button",{onClick:()=>{let t={...e};if(t.countries&&0!==t.countries.length||(t.countries=t.country?[t.country]:["FR"]),t.customNetworks||(t.customNetworks=[]),0===t.customNetworks.length&&t.socialNetworks){let e={snap:{name:"Snapchat",emoji:"\uD83D\uDC7B"},instagram:{name:"Instagram",emoji:"\uD83D\uDCF7"},whatsapp:{name:"WhatsApp",emoji:"\uD83D\uDCAC"},telegram:{name:"Telegram",emoji:"✈️"},signal:{name:"Signal",emoji:"\uD83D\uDD12"},threema:{name:"Threema",emoji:"\uD83D\uDD10"},potato:{name:"Potato",emoji:"\uD83E\uDD54"}};Object.entries(t.socialNetworks).forEach(a=>{let[s,r]=a;r&&e[s]&&t.customNetworks.push({id:Date.now().toString()+Math.random(),name:e[s].name,emoji:e[s].emoji,link:r})}),t.socialNetworks={}}et(t)},className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:(0,s.jsx)(w,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>eQ(e._id),className:"p-2 hover:bg-red-500/20 text-red-500 rounded-lg transition-colors",children:(0,s.jsx)(D,{className:"w-5 h-5"})})]})]},e._id)})})]}),"applications"===K&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Candidatures Vendeurs"}),eV?0===eV.filter(e=>"pending"===e.status).length?(0,s.jsx)("div",{className:"glass-card p-8 text-center",children:(0,s.jsx)("p",{className:"text-gray-400",children:"Aucune candidature en attente"})}):(0,s.jsx)("div",{className:"grid gap-4",children:eV.filter(e=>"pending"===e.status).map(e=>{try{var t,a,r,n,i,o,d,c,u,m,x,h;let p={...e,socialNetworks:e.socialNetworks||{primary:[],others:""},methods:e.methods||{},country:e.country||(null===(t=e.location)||void 0===t?void 0:t.country)||"",department:e.department||(null===(a=e.location)||void 0===a?void 0:a.department)||"",postalCode:e.postalCode||(null===(r=e.location)||void 0===r?void 0:r.postalCode)||""};return(0,s.jsxs)(l.E.div,{whileHover:{scale:1.01},className:"glass-card p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"font-bold text-white text-lg",children:["@",e.username||"Utilisateur"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["Candidature du ",e.createdAt?new Date(e.createdAt).toLocaleDateString():"Date inconnue"]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>{eO(e),eI(!0)},className:"p-2 bg-blue-500/20 text-blue-500 rounded-lg hover:bg-blue-500/30 transition-colors",title:"Modifier",children:(0,s.jsx)(w,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>e$(e._id),className:"p-2 bg-green-500/20 text-green-500 rounded-lg hover:bg-green-500/30 transition-colors",title:"Approuver",children:(0,s.jsx)(L,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>e0(e._id),className:"p-2 bg-red-500/20 text-red-500 rounded-lg hover:bg-red-500/30 transition-colors",title:"Rejeter",children:(0,s.jsx)(T.Z,{className:"w-5 h-5"})})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(p.photo||p.shopPhoto)&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("p",{className:"text-gray-400 mb-2",children:"\uD83D\uDCF8 Photo de la boutique:"}),(0,s.jsxs)("div",{className:"bg-gray-800 p-2 rounded-lg inline-block",children:[(0,s.jsxs)("p",{className:"text-xs text-gray-400 mb-1",children:["Photo ID: ",p.photo||p.shopPhoto]}),(0,s.jsx)("p",{className:"text-xs text-gray-400",children:"La photo est stock\xe9e sur Telegram"})]})]}),(0,s.jsxs)("div",{className:"bg-white/5 p-3 rounded-lg",children:[(0,s.jsx)("p",{className:"text-gray-400 font-semibold mb-2",children:"\uD83D\uDCF1 R\xe9seaux sociaux:"}),(null===(i=p.socialNetworks)||void 0===i?void 0:null===(n=i.primary)||void 0===n?void 0:n.length)>0?(0,s.jsx)("div",{className:"space-y-2",children:p.socialNetworks.primary.map((e,t)=>{var a,r;let l=(null===(r=p.socialNetworks)||void 0===r?void 0:null===(a=r.links)||void 0===a?void 0:a[e])||"Pas de lien";return(0,s.jsxs)("div",{className:"flex items-center justify-between bg-gray-800/50 p-2 rounded-lg",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-white",children:{snap:"\uD83D\uDC7B Snapchat",instagram:"\uD83D\uDCF8 Instagram",whatsapp:"\uD83D\uDCAC WhatsApp",signal:"\uD83D\uDD10 Signal",threema:"\uD83D\uDD12 Threema",potato:"\uD83E\uDD54 Potato",telegram:"✈️ Telegram"}[e]||e}),(0,s.jsx)("span",{className:"text-xs text-gray-400 ml-2 truncate max-w-[200px]",children:l})]},"".concat(e,"-").concat(t))})}):(0,s.jsx)("p",{className:"text-gray-400 italic",children:"Non sp\xe9cifi\xe9"}),(null===(o=p.socialNetworks)||void 0===o?void 0:o.others)&&(0,s.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-700",children:[(0,s.jsx)("p",{className:"text-sm text-white",children:(0,s.jsx)("span",{className:"text-gray-400 font-medium",children:"Autres r\xe9seaux:"})}),(0,s.jsx)("p",{className:"text-sm text-white mt-1",children:p.socialNetworks.others})]})]}),(0,s.jsxs)("div",{className:"bg-white/5 p-3 rounded-lg",children:[(0,s.jsx)("p",{className:"text-gray-400 font-semibold mb-2",children:"\uD83D\uDCE6 M\xe9thodes de vente:"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(null===(d=p.methods)||void 0===d?void 0:d.delivery)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"bg-blue-500/20 text-blue-400 px-3 py-1 rounded-full text-sm",children:"\uD83D\uDE9A Livraison"}),p.deliveryZones&&(0,s.jsxs)("p",{className:"text-sm text-white mt-1 ml-2",children:["Zones: ",p.deliveryZones||"Non sp\xe9cifi\xe9"]})]}),(null===(c=p.methods)||void 0===c?void 0:c.shipping)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-sm",children:"\uD83D\uDCEE Envoi"}),p.shippingZones&&(0,s.jsxs)("p",{className:"text-sm text-white mt-1 ml-2",children:["Zones: ",p.shippingZones||"Non sp\xe9cifi\xe9"]})]}),(null===(u=p.methods)||void 0===u?void 0:u.meetup)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"bg-purple-500/20 text-purple-400 px-3 py-1 rounded-full text-sm",children:"\uD83E\uDD1D Meetup"}),p.meetupZones&&(0,s.jsxs)("p",{className:"text-sm text-white mt-1 ml-2",children:["Zones: ",p.meetupZones||"Non sp\xe9cifi\xe9"]})]}),!(null===(m=p.methods)||void 0===m?void 0:m.delivery)&&!(null===(x=p.methods)||void 0===x?void 0:x.shipping)&&!(null===(h=p.methods)||void 0===h?void 0:h.meetup)&&(0,s.jsx)("p",{className:"text-gray-400 italic",children:"Aucune m\xe9thode s\xe9lectionn\xe9e"})]})]}),(0,s.jsxs)("div",{className:"bg-white/5 p-3 rounded-lg",children:[(0,s.jsx)("p",{className:"text-gray-400 font-semibold mb-2",children:"\uD83D\uDCCD Localisation:"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400",children:"Pays:"}),(0,s.jsx)("p",{className:"text-white",children:p.country||"Non sp\xe9cifi\xe9"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400",children:"D\xe9partement:"}),(0,s.jsx)("p",{className:"text-white",children:p.department||"Non sp\xe9cifi\xe9"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400",children:"Code postal:"}),(0,s.jsx)("p",{className:"text-white",children:p.postalCode||"Non sp\xe9cifi\xe9"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white/5 p-3 rounded-lg",children:[(0,s.jsx)("p",{className:"text-gray-400 font-semibold mb-2",children:"\uD83D\uDCDD Description:"}),(0,s.jsx)("p",{className:"text-sm text-white",children:p.description||(0,s.jsx)("span",{className:"text-gray-400 italic",children:"Non sp\xe9cifi\xe9"})})]})]})]},e._id)}catch(t){return console.error("Error rendering application:",e._id,t),(0,s.jsx)("div",{className:"glass-card p-6 text-center",children:(0,s.jsx)("p",{className:"text-red-400",children:"Erreur lors de l'affichage de cette candidature"})},e._id)}})}):(0,s.jsx)("div",{className:"glass-card p-8 text-center",children:(0,s.jsx)("p",{className:"text-gray-400",children:"Chargement des candidatures..."})})]}),"social"===K&&(0,s.jsxs)("div",{className:"space-y-6 max-w-4xl",children:[(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsx)("h1",{className:"text-3xl font-bold text-white",children:"R\xe9seaux Sociaux de la Boutique"})}),(0,s.jsxs)("div",{className:"glass-card p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"G\xe9rer les r\xe9seaux sociaux de la boutique"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6",children:"Configurez les liens vers vos r\xe9seaux sociaux qui seront affich\xe9s sur la page publique."}),(0,s.jsx)(C,{networks:eg,onChange:e=>{eb(e)}}),(0,s.jsxs)("button",{onClick:eX,className:"w-full mt-6 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transition-all flex items-center justify-center gap-2",children:[(0,s.jsx)(L,{className:"w-5 h-5"}),"Sauvegarder les r\xe9seaux sociaux"]})]})]}),"telegram"===K&&(0,s.jsxs)("div",{className:"space-y-6 max-w-4xl",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Configuration Telegram"}),(0,s.jsxs)("div",{className:"glass-card p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"Canal de v\xe9rification"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6",children:"Configurez le canal Telegram que les utilisateurs doivent rejoindre pour acc\xe9der au bot."}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Lien d'invitation du canal"}),(0,s.jsx)("input",{type:"text",value:ef,onChange:e=>ey(e.target.value),placeholder:"https://t.me/+RoI-Xzh-ma9iYmY0",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Le lien d'invitation que les utilisateurs utiliseront pour rejoindre le canal"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"ID du canal"}),(0,s.jsx)("input",{type:"text",value:eN,onChange:e=>ew(e.target.value),placeholder:"-1002736254394",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"L'ID num\xe9rique du canal (format: -100xxxxxxxxxx)"})]}),(0,s.jsxs)("button",{onClick:eK,className:"w-full mt-6 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transition-all flex items-center justify-center gap-2",children:[(0,s.jsx)(L,{className:"w-5 h-5"}),"Sauvegarder la configuration"]})]})]}),(0,s.jsxs)("div",{className:"glass-card p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Comment obtenir l'ID du canal ?"}),(0,s.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-gray-400",children:[(0,s.jsx)("li",{children:"Ajoutez votre bot comme administrateur du canal"}),(0,s.jsx)("li",{children:"Envoyez un message dans le canal"}),(0,s.jsxs)("li",{children:["Allez sur : https://api.telegram.org/bot","{","votre_token","}","/getUpdates"]}),(0,s.jsxs)("li",{children:['Cherchez "chat":',"{",'"id":-100xxxxxxxxxx',"}"," dans la r\xe9ponse"]})]})]})]}),"maintenance"===K&&(0,s.jsxs)("div",{className:"space-y-6 max-w-4xl",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Mode Maintenance"}),(0,s.jsxs)("div",{className:"glass-card p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"Contr\xf4le de la maintenance"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6",children:"Activez le mode maintenance pour afficher un message aux utilisateurs du bot et du site web."}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white text-white",children:"\xc9tat actuel"}),(0,s.jsxs)("p",{className:"text-gray-400",children:["Le syst\xe8me est actuellement ",eD?(0,s.jsx)("span",{className:"text-red-500 font-bold",children:"en maintenance"}):(0,s.jsx)("span",{className:"text-green-500 font-bold",children:"actif"})]})]}),(0,s.jsx)("div",{className:"px-4 py-2 rounded-lg font-bold ".concat(eD?"bg-red-600":"bg-green-600"),children:eD?"MAINTENANCE":"ACTIF"})]}),!eD&&(0,s.jsxs)("div",{className:"mt-4 p-4 bg-gray-800 rounded-lg",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Dur\xe9e de la maintenance"}),(0,s.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Jours"}),(0,s.jsx)("input",{type:"number",min:"0",max:"999",value:eM.days,onChange:e=>eA({...eM,days:Math.max(0,parseInt(e.target.value)||0)}),className:"w-20 px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-center"})]}),(0,s.jsx)("div",{className:"pt-5",children:"j"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Heures"}),(0,s.jsx)("input",{type:"number",min:"0",max:"999",value:eM.hours,onChange:e=>eA({...eM,hours:Math.max(0,parseInt(e.target.value)||0)}),className:"w-20 px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-center"})]}),(0,s.jsx)("div",{className:"pt-5",children:"h"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Minutes"}),(0,s.jsx)("input",{type:"number",min:"0",max:"59",value:eM.minutes,onChange:e=>eA({...eM,minutes:Math.max(0,Math.min(59,parseInt(e.target.value)||0))}),className:"w-20 px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-center"})]}),(0,s.jsx)("div",{className:"pt-5",children:"min"})]})]}),eD&&eT&&(0,s.jsx)(M,{endTime:eT}),(0,s.jsx)("button",{onClick:async()=>{try{let e=eD?null:new Date(Date.now()+(1440*eM.days+60*eM.hours+eM.minutes)*6e4);(await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({maintenanceMode:!eD,maintenanceEndTime:e})})).ok&&(eC(!eD),eD?eP(null):eP(e),document.cookie="maintenanceMode=".concat(!eD,"; path=/; max-age=3600; samesite=lax"),o.default.success(eD?"Mode maintenance d\xe9sactiv\xe9":"Mode maintenance activ\xe9"),(0,c.j)("/api/settings"))}catch(e){o.default.error("Erreur lors de la mise \xe0 jour")}},className:"w-full px-6 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ".concat(eD?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"),children:eD?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(L,{className:"w-5 h-5"}),"D\xe9sactiver la maintenance"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),"Activer la maintenance"]})})]}),(0,s.jsxs)("div",{className:"space-y-6 mt-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white text-white mb-4",children:"\uD83D\uDDBC️ Personnalisation de la page de maintenance"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Logo de maintenance"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("input",{type:"text",value:eL,onChange:e=>eS(e.target.value),placeholder:"URL du logo (ex: https://...)",className:"w-full px-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:outline-none"}),eL&&(0,s.jsx)("div",{className:"mt-2 p-4 bg-gray-800 rounded-lg",children:(0,s.jsx)("img",{src:eL,alt:"Logo de maintenance",className:"max-h-32 mx-auto rounded",onError:e=>{e.currentTarget.src="https://via.placeholder.com/150?text=Logo"}})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Image de fond"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("input",{type:"text",value:ek,onChange:e=>eE(e.target.value),placeholder:"URL de l'image de fond (ex: https://...)",className:"w-full px-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:outline-none"}),ek&&(0,s.jsx)("div",{className:"mt-2 p-4 bg-gray-800 rounded-lg",children:(0,s.jsx)("img",{src:ek,alt:"Image de fond",className:"w-full h-32 object-cover rounded",onError:e=>{e.currentTarget.src="https://via.placeholder.com/300x150?text=Background"}})})]})]})]}),(0,s.jsx)("button",{onClick:async()=>{try{(await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({maintenanceBackgroundImage:ek,maintenanceLogo:eL})})).ok&&(o.default.success("Images de maintenance mises \xe0 jour"),(0,c.j)("/api/settings"))}catch(e){o.default.error("Erreur lors de la mise \xe0 jour")}},className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all",children:"Sauvegarder les images"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[(0,s.jsxs)("div",{className:"bg-blue-900/20 border border-blue-600/30 rounded-lg p-4",children:[(0,s.jsxs)("h4",{className:"font-semibold text-blue-400 mb-2 flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Message Bot Telegram"]}),(0,s.jsxs)("p",{className:"text-gray-300 text-sm",children:["\uD83D\uDD27 ",(0,s.jsx)("strong",{children:"Maintenance en cours"}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Nous sommes bient\xf4t de retour !",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Cordialement,",(0,s.jsx)("br",{}),"CERTIF2PLUG"]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Affich\xe9 avec l'image d'accueil configur\xe9e"})]}),(0,s.jsxs)("div",{className:"bg-purple-900/20 border border-purple-600/30 rounded-lg p-4",children:[(0,s.jsxs)("h4",{className:"font-semibold text-purple-400 mb-2 flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),"Page Site Web"]}),(0,s.jsx)("p",{className:"text-gray-300 text-sm",children:"Une page de maintenance sera affich\xe9e sur tout le site avec un design moderne et professionnel."}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Les administrateurs peuvent toujours acc\xe9der au panel"})]})]}),(0,s.jsxs)("div",{className:"bg-yellow-900/20 border border-yellow-600/30 rounded-lg p-4 mt-4",children:[(0,s.jsx)("h4",{className:"font-semibold text-yellow-400 mb-2",children:"⚠️ Important"}),(0,s.jsxs)("ul",{className:"text-sm text-gray-300 space-y-1",children:[(0,s.jsx)("li",{children:"• Le mode maintenance affecte le bot Telegram ET le site web"}),(0,s.jsx)("li",{children:"• Les administrateurs peuvent toujours acc\xe9der au panel admin"}),(0,s.jsx)("li",{children:"• Les utilisateurs verront un message de maintenance"}),(0,s.jsx)("li",{children:"• N'oubliez pas de d\xe9sactiver la maintenance une fois termin\xe9e"})]})]})]})]}),"settings"===K&&(0,s.jsxs)("div",{className:"space-y-6 max-w-4xl",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Param\xe8tres"}),(0,s.jsxs)("div",{className:"glass-card p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"\uD83D\uDD0C Texte du bouton Mini App"}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"Personnalisez le texte affich\xe9 sur le bouton Mini App en haut du bot Telegram."}),(0,s.jsx)("input",{type:"text",value:em,onChange:e=>ex(e.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:border-primary focus:outline-none transition-colors",placeholder:"Ex: MINI APP CERTIF2PLUG \uD83D\uDD0C"}),(0,s.jsx)("button",{onClick:eW,className:"btn-primary mt-4",children:"Enregistrer"})]}),(0,s.jsxs)("div",{className:"glass-card p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Message d'accueil du bot"}),(0,s.jsx)("textarea",{value:en,onChange:e=>ei(e.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:border-primary focus:outline-none transition-colors",rows:4,placeholder:"Message d'accueil..."}),(0,s.jsx)("button",{onClick:eW,className:"btn-primary mt-4",children:"Enregistrer"})]}),(0,s.jsxs)("div",{className:"glass-card p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"ℹ️ Texte d'informations"}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:'Ce texte s\'affiche quand les utilisateurs cliquent sur "ℹ️ Informations" dans le menu du bot.'}),(0,s.jsx)("textarea",{value:eo,onChange:e=>ed(e.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:border-primary focus:outline-none transition-colors",rows:6,placeholder:"Entrez le texte d'informations..."}),(0,s.jsx)("button",{onClick:eW,className:"btn-primary mt-4",children:"Enregistrer"})]}),(0,s.jsxs)("div",{className:"glass-card p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"Personnalisation visuelle"}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-2xl",children:"\uD83C\uDFA8"})," Fond de la boutique"]}),(0,s.jsxs)("div",{className:"bg-gray-800 border-2 border-gray-600 rounded-xl p-4",children:[(0,s.jsx)(y,{currentImage:null==eU?void 0:eU.backgroundImage,onUpload:async e=>{try{(await fetch("/api/settings/background",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({backgroundImage:e})})).ok&&(o.default.success("Fond mis \xe0 jour !"),(0,c.j)("/api/settings"),setTimeout(()=>{window.location.reload()},1e3))}catch(e){o.default.error("Erreur lors de la mise \xe0 jour")}}}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Recommand\xe9 : Image haute r\xe9solution, 1920x1080px minimum"}),(null==eU?void 0:eU.backgroundImage)&&(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("p",{className:"text-xs text-gray-400 mb-1",children:"Image actuelle :"}),(0,s.jsx)("img",{src:eU.backgroundImage,alt:"Fond actuel",className:"w-32 h-20 object-cover rounded border border-gray-700"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-2xl",children:"\uD83E\uDD16"})," Image d'accueil du bot"]}),(0,s.jsxs)("div",{className:"bg-gray-800 border-2 border-gray-600 rounded-xl p-4",children:[(0,s.jsx)(y,{onUpload:async e=>{try{(await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({welcomeImage:e})})).ok&&o.default.success("Image d'accueil mise \xe0 jour !")}catch(e){o.default.error("Erreur lors de la mise \xe0 jour")}}}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Cette image sera affich\xe9e dans le message d'accueil du bot Telegram"})]})]})]})]}),(0,s.jsxs)("div",{className:"glass-card p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"R\xe9seaux sociaux du bot"}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"Ces liens appara\xeetront en bas du menu principal du bot Telegram"}),(0,s.jsxs)("div",{className:"space-y-4",children:[null==ev?void 0:ev.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg",children:[(0,s.jsx)("input",{type:"text",value:e.emoji||"",onChange:e=>{let a=[...ev];a[t].emoji=e.target.value,ej(a)},placeholder:"\uD83D\uDD17",className:"w-16 px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-center"}),(0,s.jsx)("input",{type:"text",value:e.name||"",onChange:e=>{let a=[...ev];a[t].name=e.target.value,ej(a)},placeholder:"Nom du r\xe9seau",className:"flex-1 px-3 py-2 bg-white/10 border border-white/20 rounded-lg"}),(0,s.jsx)("input",{type:"text",value:e.url||"",onChange:e=>{let a=[...ev];a[t].url=e.target.value,ej(a)},placeholder:"https://...",className:"flex-1 px-3 py-2 bg-white/10 border border-white/20 rounded-lg"}),(0,s.jsx)("input",{type:"number",value:e.order||0,onChange:e=>{let a=[...ev];a[t].order=parseInt(e.target.value)||0,ej(a)},placeholder:"0",className:"w-20 px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-center"}),(0,s.jsx)("button",{onClick:()=>{ej(ev.filter((e,a)=>a!==t))},className:"p-2 text-red-500 hover:bg-red-500/20 rounded-lg transition-colors",children:(0,s.jsx)(D,{className:"w-5 h-5"})})]},t)),(0,s.jsxs)("button",{onClick:()=>{ej([...ev,{name:"",url:"",emoji:"\uD83D\uDD17",order:ev.length}])},className:"btn-secondary w-full flex items-center justify-center gap-2",children:[(0,s.jsx)(N,{className:"w-5 h-5"}),"Ajouter un r\xe9seau social"]}),(0,s.jsxs)("button",{onClick:eG,className:"btn-primary w-full flex items-center justify-center gap-2 mt-4",children:[(0,s.jsx)(L,{className:"w-5 h-5"}),"Sauvegarder les r\xe9seaux sociaux du bot"]})]})]})]})]})})]}),(0,s.jsx)(n.M,{children:(Q||ee)&&(0,s.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:(0,s.jsxs)(l.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gray-900 rounded-3xl w-full max-w-4xl my-8 shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 rounded-t-3xl",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-white",children:ee?"✏️ Modifier le plug":"➕ Ajouter un nouveau plug"}),(0,s.jsx)("button",{onClick:()=>{$(!1),et(null)},className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:(0,s.jsx)(T.Z,{className:"w-6 h-6 text-white"})})]})}),(0,s.jsx)("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCDD"})," Informations de base"]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Nom du plug *"}),(0,s.jsx)("input",{type:"text",placeholder:"Ex: PlugsParis",value:ee?ee.name:eR.name,onChange:e=>ee?et({...ee,name:e.target.value}):e_({...eR,name:e.target.value}),className:"w-full px-4 py-3 bg-gray-800 border-2 border-gray-600 rounded-xl text-white placeholder-gray-400 focus:border-blue-500 focus:outline-none transition-all"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Photo du plug"}),(0,s.jsxs)("div",{className:"bg-gray-800 border-2 border-gray-600 rounded-xl p-4",children:[(0,s.jsx)(y,{onUpload:e=>ee?et({...ee,photo:e}):e_({...eR,photo:e})}),((null==ee?void 0:ee.photo)||eR.photo)&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("img",{src:(null==ee?void 0:ee.photo)||eR.photo,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Description"}),(0,s.jsx)("textarea",{placeholder:"D\xe9crivez votre service...",value:ee?ee.description:eR.description,onChange:e=>ee?et({...ee,description:e.target.value}):e_({...eR,description:e.target.value}),rows:4,className:"w-full px-4 py-3 bg-gray-800 border-2 border-gray-600 rounded-xl text-white placeholder-gray-400 focus:border-blue-500 focus:outline-none transition-all resize-none"})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-2xl",children:"\uD83C\uDF0D"})," Pays et localisation"]}),(0,s.jsx)(S,{selectedCountries:(null==ee?void 0:ee.countries)||eR.countries,selectedDepartments:[],onCountriesChange:e=>{ee?et({...ee,countries:e}):e_({...eR,countries:e})},onDepartmentsChange:()=>{},showDepartments:!1})]}),(0,s.jsxs)("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-2xl",children:"\uD83D\uDE9A"})," M\xe9thodes disponibles"]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("label",{className:"flex items-center gap-3 p-4 bg-gray-800 border-2 border-gray-600 rounded-xl cursor-pointer hover:border-blue-500 transition-all",children:[(0,s.jsx)("input",{type:"checkbox",checked:(null==ee?void 0:null===(e=ee.methods)||void 0===e?void 0:e.delivery)||eR.methods.delivery,onChange:e=>ee?et({...ee,methods:{...ee.methods||{},delivery:e.target.checked}}):e_({...eR,methods:{...eR.methods,delivery:e.target.checked}}),className:"w-5 h-5 text-blue-600"}),(0,s.jsx)("span",{className:"text-lg text-white",children:"\uD83D\uDE9A Livraison"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 p-4 bg-gray-800 border-2 border-gray-600 rounded-xl cursor-pointer hover:border-green-500 transition-all",children:[(0,s.jsx)("input",{type:"checkbox",checked:(null==ee?void 0:null===(t=ee.methods)||void 0===t?void 0:t.shipping)||eR.methods.shipping,onChange:e=>ee?et({...ee,methods:{...ee.methods||{},shipping:e.target.checked}}):e_({...eR,methods:{...eR.methods,shipping:e.target.checked}}),className:"w-5 h-5 text-green-600"}),(0,s.jsx)("span",{className:"text-lg text-white",children:"\uD83D\uDCE6 Envoi postal"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 p-4 bg-gray-800 border-2 border-gray-600 rounded-xl cursor-pointer hover:border-purple-500 transition-all",children:[(0,s.jsx)("input",{type:"checkbox",checked:(null==ee?void 0:null===(a=ee.methods)||void 0===a?void 0:a.meetup)||eR.methods.meetup,onChange:e=>ee?et({...ee,methods:{...ee.methods||{},meetup:e.target.checked}}):e_({...eR,methods:{...eR.methods,meetup:e.target.checked}}),className:"w-5 h-5 text-purple-600"}),(0,s.jsx)("span",{className:"text-lg text-white",children:"\uD83E\uDD1D Meetup"})]})]}),((null==ee?void 0:null===(u=ee.methods)||void 0===u?void 0:u.delivery)||eR.methods.delivery)&&(0,s.jsxs)("div",{className:"mt-6 p-4 bg-gray-800 rounded-xl border-2 border-blue-600/30",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-4",children:"\uD83D\uDE9A S\xe9lectionnez les d\xe9partements o\xf9 vous livrez"}),(0,s.jsx)(S,{selectedCountries:(null==ee?void 0:ee.countries)||eR.countries,selectedDepartments:(null==ee?void 0:ee.deliveryDepartments)||eR.deliveryDepartments,onCountriesChange:()=>{},onDepartmentsChange:e=>{ee?et({...ee,deliveryDepartments:e}):e_({...eR,deliveryDepartments:e})},showDepartments:!0}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-gray-300 mb-2",children:"Codes postaux de livraison (optionnel)"}),(0,s.jsx)(P,{postalCodes:(null==ee?void 0:ee.deliveryPostalCodes)||eR.deliveryPostalCodes||[],onChange:e=>{ee?et({...ee,deliveryPostalCodes:e}):e_({...eR,deliveryPostalCodes:e})},placeholder:"Ex: 75001, 69002..."})]})]}),((null==ee?void 0:null===(m=ee.methods)||void 0===m?void 0:m.shipping)||eR.methods.shipping)&&(0,s.jsxs)("div",{className:"mt-6 p-4 bg-gray-800 rounded-xl border-2 border-green-600/30",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-4",children:"\uD83D\uDCE6 S\xe9lectionnez les pays o\xf9 vous envoyez"}),(0,s.jsx)(S,{selectedCountries:(null==ee?void 0:ee.shippingCountries)||(null==ee?void 0:ee.countries)||eR.countries,selectedDepartments:[],onCountriesChange:e=>{ee?et({...ee,shippingCountries:e}):e_({...eR,shippingCountries:e})},onDepartmentsChange:()=>{},showDepartments:!1})]}),((null==ee?void 0:null===(x=ee.methods)||void 0===x?void 0:x.meetup)||eR.methods.meetup)&&(0,s.jsxs)("div",{className:"mt-6 p-4 bg-gray-800 rounded-xl border-2 border-purple-600/30",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-4",children:"\uD83E\uDD1D S\xe9lectionnez les zones o\xf9 vous proposez des meetups"}),(0,s.jsx)(S,{selectedCountries:(null==ee?void 0:ee.countries)||eR.countries,selectedDepartments:(null==ee?void 0:ee.meetupDepartments)||eR.meetupDepartments||[],onCountriesChange:()=>{},onDepartmentsChange:e=>{ee?et({...ee,meetupDepartments:e}):e_({...eR,meetupDepartments:e})},showDepartments:!0}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-gray-300 mb-2",children:"Codes postaux de meetup (optionnel)"}),(0,s.jsx)(P,{postalCodes:(null==ee?void 0:ee.meetupPostalCodes)||eR.meetupPostalCodes||[],onChange:e=>{ee?et({...ee,meetupPostalCodes:e}):e_({...eR,meetupPostalCodes:e})},placeholder:"Ex: 75001, 69002..."})]})]})]})]}),(0,s.jsx)("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700",children:(0,s.jsx)(C,{networks:ee?ee.customNetworks||[]:eR.customNetworks||[],onChange:e=>{ee?et({...ee,customNetworks:e}):e_({...eR,customNetworks:e})}})}),(0,s.jsxs)("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-2xl",children:"\uD83D\uDD17"})," Lien de parrainage"]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(null==ee?void 0:ee._id)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Lien de parrainage g\xe9n\xe9r\xe9"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",readOnly:!0,value:"https://t.me/".concat(V.env.NEXT_PUBLIC_BOT_USERNAME||"PLGSCRTF_BOT","?start=plug_").concat(ee._id,"_").concat((null==eU?void 0:null===(h=eU.adminChatIds)||void 0===h?void 0:h[0])||"admin"),className:"flex-1 px-4 py-3 bg-gray-900 border-2 border-gray-600 rounded-xl text-white"}),(0,s.jsx)("button",{type:"button",onClick:()=>{var e;navigator.clipboard.writeText("https://t.me/".concat(V.env.NEXT_PUBLIC_BOT_USERNAME||"PLGSCRTF_BOT","?start=plug_").concat(ee._id,"_").concat((null==eU?void 0:null===(e=eU.adminChatIds)||void 0===e?void 0:e[0])||"admin")),o.default.success("Lien copi\xe9 !")},className:"px-4 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-white transition-all",children:"\uD83D\uDCCB Copier"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Lien personnalis\xe9 (optionnel)"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",placeholder:"https://t.me/votrebot?start=custom...",value:ee?ee.referralLink||"":eR.referralLink||"",onChange:e=>ee?et({...ee,referralLink:e.target.value}):e_({...eR,referralLink:e.target.value}),className:"flex-1 px-4 py-3 bg-gray-800 border-2 border-gray-600 rounded-xl text-white placeholder-gray-400 focus:border-blue-500 focus:outline-none transition-all"}),((null==ee?void 0:ee.referralLink)||eR.referralLink)&&(0,s.jsx)("button",{type:"button",onClick:()=>{let e=ee?ee.referralLink:eR.referralLink;e&&(navigator.clipboard.writeText(e),o.default.success("Lien personnalis\xe9 copi\xe9 !"))},className:"px-4 py-3 bg-green-600 hover:bg-green-700 rounded-xl text-white transition-all",children:"\uD83D\uDCCB Copier"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Si d\xe9fini, ce lien sera utilis\xe9 \xe0 la place du lien g\xe9n\xe9r\xe9"})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,s.jsx)("button",{onClick:()=>{$(!1),et(null)},className:"flex-1 px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-xl font-semibold transition-all",children:"Annuler"}),(0,s.jsxs)("button",{onClick:ee?eY:eq,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl font-semibold transition-all flex items-center justify-center gap-2",children:[(0,s.jsx)(L,{className:"w-5 h-5"}),ee?"Mettre \xe0 jour":"Ajouter le plug"]})]})]})})]})})}),(0,s.jsx)(n.M,{children:eB&&eF&&(0,s.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>eI(!1),children:(0,s.jsxs)(l.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gray-900 rounded-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("h3",{className:"text-2xl font-bold mb-6",children:["Modifier la candidature de @",eF.username]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(eF.photo||eF.shopPhoto)&&(0,s.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"\uD83D\uDCF8 Photo de la boutique"}),(0,s.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg",children:[(0,s.jsx)("img",{src:"/api/telegram-photo/".concat(eF.photo||eF.shopPhoto),alt:"Photo de la boutique",className:"w-full max-w-md h-64 object-cover rounded-lg mb-3",onError:e=>{var t;e.currentTarget.style.display="none",null===(t=e.currentTarget.nextElementSibling)||void 0===t||t.classList.remove("hidden")}}),(0,s.jsxs)("div",{className:"hidden bg-gray-800 p-3 rounded text-sm text-gray-400",children:["⚠️ Impossible de charger la photo. ID: ",eF.photo||eF.shopPhoto]}),(0,s.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,s.jsx)("a",{href:"/api/telegram-photo/".concat(eF.photo||eF.shopPhoto),download:"boutique_".concat(eF.username,".jpg"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm transition-colors",children:"\uD83D\uDCE5 T\xe9l\xe9charger la photo"}),(0,s.jsx)("button",{onClick:()=>window.open("/api/telegram-photo/".concat(eF.photo||eF.shopPhoto),"_blank"),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm transition-colors",children:"\uD83D\uDD17 Ouvrir dans un nouvel onglet"})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"\uD83D\uDCF1 R\xe9seaux sociaux et liens"}),(0,s.jsxs)("div",{className:"space-y-2",children:[null===(g=eF.socialNetworks)||void 0===g?void 0:null===(p=g.primary)||void 0===p?void 0:p.map((e,t)=>{var a,r;return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"w-32",children:[{snap:"\uD83D\uDC7B Snapchat",instagram:"\uD83D\uDCF8 Instagram",whatsapp:"\uD83D\uDCAC WhatsApp",signal:"\uD83D\uDD10 Signal",threema:"\uD83D\uDD12 Threema",potato:"\uD83E\uDD54 Potato",telegram:"✈️ Telegram"}[e]||e,":"]}),(0,s.jsx)("input",{type:"text",value:(null===(r=eF.socialNetworks)||void 0===r?void 0:null===(a=r.links)||void 0===a?void 0:a[e])||"",onChange:t=>{let a={...eF};a.socialNetworks.links||(a.socialNetworks.links={}),a.socialNetworks.links[e]=t.target.value,eO(a)},placeholder:"Lien ou @username",className:"flex-1 px-3 py-1 bg-gray-700 border border-gray-600 rounded"})]},t)}),(null===(b=eF.socialNetworks)||void 0===b?void 0:b.others)&&(0,s.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-700",children:[(0,s.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Autres r\xe9seaux:"}),(0,s.jsx)("textarea",{value:eF.socialNetworks.others,onChange:e=>eO({...eF,socialNetworks:{...eF.socialNetworks,others:e.target.value}}),rows:2,className:"w-full px-3 py-1 bg-gray-700 border border-gray-600 rounded"})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"\uD83D\uDCE6 M\xe9thodes de vente et zones"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(null===(v=eF.methods)||void 0===v?void 0:v.delivery)&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-400 mb-1",children:[(0,s.jsx)("input",{type:"checkbox",checked:eF.methods.delivery,onChange:e=>eO({...eF,methods:{...eF.methods,delivery:e.target.checked}})}),"\uD83D\uDE9A Livraison"]}),(0,s.jsx)("textarea",{value:eF.deliveryZones||"",onChange:e=>eO({...eF,deliveryZones:e.target.value}),placeholder:"Zones de livraison (d\xe9partements, codes postaux...)",rows:2,className:"w-full px-3 py-1 bg-gray-700 border border-gray-600 rounded text-sm"})]}),(null===(j=eF.methods)||void 0===j?void 0:j.shipping)&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-400 mb-1",children:[(0,s.jsx)("input",{type:"checkbox",checked:eF.methods.shipping,onChange:e=>eO({...eF,methods:{...eF.methods,shipping:e.target.checked}})}),"\uD83D\uDCEE Envoi"]}),(0,s.jsx)("textarea",{value:eF.shippingZones||"",onChange:e=>eO({...eF,shippingZones:e.target.value}),placeholder:"Zones d'envoi (pays, r\xe9gions...)",rows:2,className:"w-full px-3 py-1 bg-gray-700 border border-gray-600 rounded text-sm"})]}),(null===(f=eF.methods)||void 0===f?void 0:f.meetup)&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-400 mb-1",children:[(0,s.jsx)("input",{type:"checkbox",checked:eF.methods.meetup,onChange:e=>eO({...eF,methods:{...eF.methods,meetup:e.target.checked}})}),"\uD83E\uDD1D Meetup"]}),(0,s.jsx)("textarea",{value:eF.meetupZones||"",onChange:e=>eO({...eF,meetupZones:e.target.value}),placeholder:"Zones de meetup (villes, quartiers...)",rows:2,className:"w-full px-3 py-1 bg-gray-700 border border-gray-600 rounded text-sm"})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"\uD83D\uDCCD Localisation principale du vendeur"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Pays"}),(0,s.jsx)("input",{type:"text",value:eF.country||"",onChange:e=>eO({...eF,country:e.target.value}),placeholder:"Ex: France",className:"w-full px-3 py-1 bg-gray-700 border border-gray-600 rounded text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"D\xe9partement"}),(0,s.jsx)("input",{type:"text",value:eF.department||"",onChange:e=>eO({...eF,department:e.target.value}),placeholder:"Ex: 75",className:"w-full px-3 py-1 bg-gray-700 border border-gray-600 rounded text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Code postal"}),(0,s.jsx)("input",{type:"text",value:eF.postalCode||"",onChange:e=>eO({...eF,postalCode:e.target.value}),placeholder:"Ex: 75001",className:"w-full px-3 py-1 bg-gray-700 border border-gray-600 rounded text-sm"})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"\uD83D\uDCDD Description"}),(0,s.jsx)("textarea",{value:eF.description||"",onChange:e=>eO({...eF,description:e.target.value}),rows:4,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded"})]}),(0,s.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,s.jsx)("button",{onClick:async()=>{try{(await fetch("/api/applications/".concat(eF._id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(eF)})).ok&&(o.default.success("Candidature modifi\xe9e"),(0,c.j)("/api/applications"),eI(!1),eO(null))}catch(e){o.default.error("Erreur lors de la modification")}},className:"flex-1 btn-primary",children:"Sauvegarder"}),(0,s.jsx)("button",{onClick:()=>eI(!1),className:"flex-1 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Annuler"})]})]})]})})})]})}},1984:function(e){!function(){var t={229:function(e){var t,a,s,r=e.exports={};function l(){throw Error("setTimeout has not been defined")}function n(){throw Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===l||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(a){try{return t.call(null,e,0)}catch(a){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:l}catch(e){t=l}try{a="function"==typeof clearTimeout?clearTimeout:n}catch(e){a=n}}();var o=[],d=!1,c=-1;function u(){d&&s&&(d=!1,s.length?o=s.concat(o):c=-1,o.length&&m())}function m(){if(!d){var e=i(u);d=!0;for(var t=o.length;t;){for(s=o,o=[];++c<t;)s&&s[c].run();c=-1,t=o.length}s=null,d=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===n||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function x(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];o.push(new x(e,t)),1!==o.length||d||i(m)},x.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},a={};function s(e){var r=a[e];if(void 0!==r)return r.exports;var l=a[e]={exports:{}},n=!0;try{t[e](l,l.exports,s),n=!1}finally{n&&delete a[e]}return l.exports}s.ab="//";var r=s(229);e.exports=r}()},5169:function(e,t,a){"use strict";var s=a(8078);let r=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))});t.Z=r},7763:function(e,t,a){"use strict";var s=a(8078);let r=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))});t.Z=r}},function(e){e.O(0,[921,532,432,115,141,744],function(){return e(e.s=3268)}),_N_E=e.O()}]);