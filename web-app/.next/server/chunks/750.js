exports.id=750,exports.ids=[750],exports.modules={84422:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,45483,23)),Promise.resolve().then(r.t.bind(r,46544,23)),Promise.resolve().then(r.t.bind(r,17680,23)),Promise.resolve().then(r.t.bind(r,24138,23)),Promise.resolve().then(r.t.bind(r,38705,23)),Promise.resolve().then(r.t.bind(r,57974,23))},14463:(e,t,r)=>{Promise.resolve().then(r.bind(r,15082)),Promise.resolve().then(r.bind(r,61757)),Promise.resolve().then(r.bind(r,31902)),Promise.resolve().then(r.bind(r,21527)),Promise.resolve().then(r.bind(r,16675))},74868:()=>{},61757:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(54714),o=r(77580),a=r(72218);let s=async e=>{let t=await fetch(e);if(!t.ok)throw console.error("[BackgroundProvider] Failed to fetch:",t.status),Error("Failed to fetch background");return t.json()};function l({children:e}){let{data:t,error:r}=(0,a.ZP)("/api/settings/background",s,{refreshInterval:3e4,revalidateOnFocus:!0,revalidateOnReconnect:!0}),[l,i]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{i(!0)},[]),(0,o.useEffect)(()=>{if(r&&console.error("[BackgroundProvider] Error loading background:",r),l&&t?.backgroundImage){if(console.log("[BackgroundProvider] Applying background image:",t.backgroundImage),document.body.style.backgroundImage=`url(${t.backgroundImage})`,document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundAttachment="fixed",document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundColor="#000000",document.body.style.minHeight="100vh",!document.getElementById("bg-overlay")){let e=document.createElement("div");e.id="bg-overlay",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.backgroundColor="rgba(0, 0, 0, 0.85)",e.style.zIndex="-1",e.style.pointerEvents="none",document.body.appendChild(e)}}else if(l&&!t?.backgroundImage){console.log("[BackgroundProvider] No background image, cleaning up"),document.body.style.backgroundImage="",document.body.style.backgroundColor="",document.body.style.minHeight="";let e=document.getElementById("bg-overlay");e&&e.remove()}return()=>{document.body.style.backgroundImage="",document.body.style.backgroundColor="",document.body.style.minHeight="";let e=document.getElementById("bg-overlay");e&&e.remove()}},[l,t?.backgroundImage,r]),n.jsx(n.Fragment,{children:e})}},31902:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=r(54714),o=r(35070),a=r.n(o),s=r(77580),l=r(70312),i=r(50786),d=r(88934),c=r(16675);function m(){let[e,t]=(0,s.useState)(!1),[r,o]=(0,s.useState)(!1),m=(0,d.usePathname)(),u="/"===m,{isTelegram:g}=(0,c.useTelegram)();(0,s.useEffect)(()=>{let e=()=>{o(window.scrollY>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,s.useEffect)(()=>{let r=e=>{let r=document.querySelector("nav");r&&!r.contains(e.target)&&t(!1)};if(e)return document.addEventListener("click",r),()=>document.removeEventListener("click",r)},[e]),(0,s.useEffect)(()=>{t(!1)},[m]);let h=[{href:"/",label:"Accueil"},{href:"/plugs",label:"Plugs"},{href:"/search",label:"Rechercher"},{href:"/about",label:"\xc0 propos"},{href:"/social",label:"R\xe9seaux"}];return(0,n.jsxs)("nav",{className:`fixed top-0 w-full z-50 bg-black/95 backdrop-blur-xl border-b border-white/20 shadow-2xl ${g?"navbar":""}`,children:[n.jsx("div",{className:`max-w-7xl mx-auto ${g?"px-3":"px-4 sm:px-6 lg:px-8"}`,children:(0,n.jsxs)("div",{className:`flex items-center justify-between ${g?"h-12":"h-14 sm:h-16"}`,children:[n.jsx(a(),{href:"/",className:"flex items-center",children:n.jsx("div",{className:`${g?"text-base":"text-lg sm:text-xl"} font-bold navbar-title ${u&&!r?"text-white/80 drop-shadow-xl":"text-white drop-shadow-xl"}`,children:"CERTIF2PLUG"})}),!g&&n.jsx("div",{className:"hidden md:flex items-center space-x-1 lg:space-x-2",children:h.map(e=>n.jsx(a(),{href:e.href,className:`flex items-center gap-1 px-3 lg:px-4 py-2 rounded-lg text-sm lg:text-base font-medium ${m===e.href?"bg-gradient-to-r from-purple-600/20 to-pink-600/20 text-white border border-purple-500/30":"text-white/80 hover:text-white hover:bg-white/10"}`,children:e.label},e.href))}),n.jsx("button",{onClick:()=>t(!e),className:`${g?"":"md:hidden"} p-2 rounded-lg text-white hover:bg-white/10`,children:e?n.jsx(l.Z,{className:g?"h-5 w-5":"h-5 w-5 sm:h-6 sm:w-6"}):n.jsx(i.Z,{className:g?"h-5 w-5":"h-5 w-5 sm:h-6 sm:w-6"})})]})}),e&&n.jsx("div",{className:`${g?"":"md:hidden"} absolute top-full left-0 right-0 bg-black border-t border-white/10 shadow-2xl z-50`,children:n.jsx("div",{className:`${g?"px-3 py-2":"px-4 py-3"} space-y-1`,children:h.map(e=>n.jsx(a(),{href:e.href,onClick:()=>t(!1),className:`flex items-center gap-2 ${g?"px-3 py-2 text-sm":"px-4 py-3 text-base"} rounded-lg font-medium ${m===e.href?"bg-gradient-to-r from-purple-600/20 to-pink-600/20 text-white border border-purple-500/30":"text-white/90 hover:text-white hover:bg-white/10"}`,children:e.label},e.href))})})]})}},21527:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(54714),o=r(77580),a=r(9427),s=r(7297),l=r(38773),i=r(16675);function d(){let[e,t]=(0,o.useState)(!1),[r,d]=(0,o.useState)(0),{isTelegram:c}=(0,i.useTelegram)();return((0,o.useEffect)(()=>{if(c)return;let e=()=>{let e=document.documentElement.scrollHeight-window.innerHeight,r=window.scrollY/e*100;d(r),r<90&&window.innerWidth<768?t(!0):t(!1)};return e(),window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[c]),c)?null:n.jsx(a.M,{children:e&&(0,n.jsxs)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed bottom-20 right-4 z-40 md:hidden",children:[n.jsx(s.E.button,{onClick:()=>{window.scrollTo({top:.8*window.innerHeight,behavior:"smooth"})},className:"bg-primary/20 backdrop-blur-sm border border-primary/50 rounded-full p-3 shadow-lg",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,n.jsxs)("div",{className:"relative",children:[n.jsx(s.E.div,{animate:{y:[0,5,0]},transition:{duration:1,repeat:1/0},children:n.jsx(l.Z,{className:"w-6 h-6 text-primary"})}),(0,n.jsxs)("svg",{className:"absolute inset-0 w-full h-full -rotate-90",children:[n.jsx("circle",{cx:"50%",cy:"50%",r:"18",stroke:"rgba(139, 92, 246, 0.2)",strokeWidth:"2",fill:"none"}),n.jsx("circle",{cx:"50%",cy:"50%",r:"18",stroke:"rgb(139, 92, 246)",strokeWidth:"2",fill:"none",strokeDasharray:`${2*Math.PI*18}`,strokeDashoffset:`${2*Math.PI*18*(1-r/100)}`,className:"transition-all duration-200"})]})]})}),n.jsx(s.E.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute -top-12 right-0 bg-darker/90 backdrop-blur-sm px-3 py-1 rounded-lg text-xs text-primary whitespace-nowrap",children:"Plus de contenu â†“"})]})})}},16675:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,useTelegram:()=>i});var n=r(54714),o=r(77580),a=r(76924),s=r.n(a);let l=(0,o.createContext)({webApp:null,isTelegram:!1,theme:"dark"}),i=()=>(0,o.useContext)(l);function d({children:e}){let[t,r]=(0,o.useState)(null),[a,i]=(0,o.useState)(!1),[d,c]=(0,o.useState)("dark");return(0,o.useEffect)(()=>{let e=()=>{if(window.Telegram?.WebApp){let e=window.Telegram.WebApp;c(e.colorScheme||"dark"),document.documentElement.setAttribute("data-theme",e.colorScheme||"dark")}};return window.addEventListener("telegram-theme-changed",e),()=>{window.removeEventListener("telegram-theme-changed",e)}},[]),(0,n.jsxs)(n.Fragment,{children:[n.jsx(s(),{src:"https://telegram.org/js/telegram-web-app.js",strategy:"beforeInteractive",onLoad:()=>{}}),n.jsx(l.Provider,{value:{webApp:t,isTelegram:a,theme:d},children:e})]})}},35978:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>T,metadata:()=>E});var n=r(40657),o=r(67337),a=r.n(o);r(45865);var s=r(21315),l=r(71481);let i=(0,l.createProxy)(String.raw`/workspace/web-app/components/Navbar.tsx`),{__esModule:d,$$typeof:c}=i,m=i.default,u=(0,l.createProxy)(String.raw`/workspace/web-app/components/ScrollIndicator.tsx`),{__esModule:g,$$typeof:h}=u,p=u.default,x=(0,l.createProxy)(String.raw`/workspace/web-app/components/BackgroundProvider.tsx`),{__esModule:b,$$typeof:f}=x,y=x.default,v=(0,l.createProxy)(String.raw`/workspace/web-app/components/TelegramProvider.tsx`),{__esModule:w,$$typeof:k}=v,S=v.default;(0,l.createProxy)(String.raw`/workspace/web-app/components/TelegramProvider.tsx#useTelegram`);var j=r(52300),N=r(30611),I=r(94208);async function P(){if((0,j.cookies)().get("hasVisited"))return null;let e="";try{await (0,N.v)();let t=await I.Z.findOne({});t?.backgroundImage&&(e=t.backgroundImage,console.log("Background image found:",e))}catch(e){console.error("Error fetching background:",e)}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black",id:"initial-splash",style:{backgroundImage:e?`url(${e})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[n.jsx("div",{className:"absolute inset-0 bg-black/70"}),(0,n.jsxs)("div",{className:"relative z-10 text-center px-4",children:[(0,n.jsxs)("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6",children:["Bienvenu(e)s sur ",n.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-600 bg-clip-text text-transparent",children:"CERTIF2PLUG"})]}),n.jsx("p",{className:"text-xl md:text-2xl text-white/90",children:"Trouvez votre plugs pr\xe8s de chez vous \uD83D\uDD0C"})]})]}),n.jsx("script",{dangerouslySetInnerHTML:{__html:`
          // Bloquer le scroll pendant le splash
          document.body.style.overflow = 'hidden';
          
          // Cacher le splash apr\xe8s 6 secondes
          setTimeout(function() {
            const splash = document.getElementById('initial-splash');
            if (splash) {
              splash.style.transition = 'opacity 0.5s';
              splash.style.opacity = '0';
              setTimeout(function() {
                splash.remove();
                document.body.style.overflow = '';
                // Marquer comme visit\xe9
                document.cookie = 'hasVisited=true; path=/; max-age=86400';
              }, 500);
            }
          }, 6000);
        `}})]})}let E={title:"CERTIF2PLUG - Marketplace des vendeurs certifi\xe9s",description:"La plateforme exclusive pour trouver des vendeurs certifi\xe9s et de confiance",viewport:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"};function T({children:e}){return(0,n.jsxs)("html",{lang:"fr",children:[(0,n.jsxs)("head",{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:`
            html, body {
              background-color: #000000 !important;
            }
          `}}),n.jsx("script",{dangerouslySetInnerHTML:{__html:`
              // V\xe9rifier imm\xe9diatement le mode maintenance
              (function() {
                // Forcer le fond noir d\xe8s le d\xe9but
                document.documentElement.style.backgroundColor = '#000000';
                
                const maintenanceMode = document.cookie
                  .split('; ')
                  .find(row => row.startsWith('maintenanceMode='))
                  ?.split('=')[1];
                
                if (maintenanceMode === 'true' && !window.location.pathname.includes('/config')) {
                  // Masquer le body pendant le chargement
                  document.documentElement.style.visibility = 'hidden';
                }
              })();
            `}})]}),(0,n.jsxs)("body",{className:`${a().className} bg-dark text-white min-h-screen`,children:[n.jsx(P,{}),n.jsx(S,{children:(0,n.jsxs)(y,{children:[n.jsx(m,{}),n.jsx("main",{className:"relative min-h-screen",children:e}),n.jsx(p,{}),n.jsx(s.x7,{position:"top-center",toastOptions:{style:{background:"#1a1a1a",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.1)"}}})]})})]})]})}},95046:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40657);function o(){return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black",children:(0,n.jsxs)("div",{className:"relative z-10 text-center px-4",children:[(0,n.jsxs)("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6",children:["Bienvenu(e)s sur ",n.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-600 bg-clip-text text-transparent",children:"CERTIF2PLUG"})]}),n.jsx("p",{className:"text-xl md:text-2xl text-white/90",children:"Trouvez votre plugs pr\xe8s de chez vous \uD83D\uDD0C"})]})})}},30611:(e,t,r)=>{"use strict";r.d(t,{v:()=>l});var n=r(11185),o=r.n(n);let a=process.env.MONGODB_URI;if(!a)throw Error("Please define the MONGODB_URI environment variable");let s=global.mongoose||{conn:null,promise:null};async function l(){if(s.conn)return s.conn;s.promise||(s.promise=o().connect(a,{bufferCommands:!1}));try{s.conn=await s.promise}catch(e){throw s.promise=null,e}return s.conn}global.mongoose||(global.mongoose=s)},94208:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(11185),o=r.n(n);let a=new(o()).Schema({welcomeMessage:{type:String,default:"\uD83D\uDD0C Bienvenue sur CERTIF2PLUG !\n\nLa marketplace exclusive des vendeurs certifi\xe9s."},welcomeImage:{type:String,default:""},infoText:{type:String,default:"Informations sur notre service"},miniAppButtonText:{type:String,default:"\uD83D\uDD0C MINI APP CERTIF2PLUG"},backgroundImage:{type:String,default:""},logoImage:{type:String,default:""},socialNetworks:{snap:String,instagram:String,whatsapp:String,signal:String,threema:String,potato:String,telegram:String,other:String},botSocialNetworks:[{name:String,url:String,emoji:String,order:{type:Number,default:0}}],shopSocialNetworks:[{id:String,name:String,emoji:String,link:String}],countries:[{code:String,name:String,flag:String,departments:[{code:String,name:String}]}],departments:[{country:String,code:String,name:String}],postalCodes:[{code:String,city:String,department:String}],telegramChannelLink:{type:String,default:"https://t.me/+RoI-Xzh-ma9iYmY0"},telegramChannelId:{type:String,default:"-1002736254394"},maintenanceMode:{type:Boolean,default:!1},maintenanceEndTime:{type:Date,default:null},maintenanceBackgroundImage:{type:String,default:""},maintenanceLogo:{type:String,default:""}},{timestamps:!0}),s=o().models.Settings||o().model("Settings",a)},45865:()=>{}};