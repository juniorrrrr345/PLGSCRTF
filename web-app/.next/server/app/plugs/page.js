(()=>{var e={};e.id=886,e.ids=[886],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},23602:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>D,pages:()=>c,routeModule:()=>d,tree:()=>i});var r=s(7),a=s(8533),u=s(29377),l=s.n(u),n=s(29799),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let i=["",{children:["plugs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,81755)),"/workspace/web-app/app/plugs/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,35978)),"/workspace/web-app/app/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,95046)),"/workspace/web-app/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,73472,23)),"next/dist/client/components/not-found-error"]}],c=["/workspace/web-app/app/plugs/page.tsx"],D="/plugs/page",p={require:s,loadChunk:()=>Promise.resolve()},d=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/plugs/page",pathname:"/plugs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},27539:(e,t,s)=>{Promise.resolve().then(s.bind(s,5583))},5583:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(54714),a=s(77580),u=s(72218),l=s(90481),n=s(28695),o=s(16622);let i=e=>fetch(e).then(e=>e.json());function c(){let{data:e,error:t,isLoading:s}=(0,u.ZP)("/api/plugs",i),[c,D]=(0,a.useState)(""),[p,d]=(0,a.useState)("ALL"),[x,g]=(0,a.useState)("ALL"),[m,h]=(0,a.useState)("ALL"),[C,b]=(0,a.useState)(null),[w,y]=(0,a.useState)([]),[E,f]=(0,a.useState)([]),[j,v]=(0,a.useState)([]),[A,N]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{if(e){let t=new Set;e.forEach(e=>{e.location?.countries&&e.location.countries.forEach(e=>{t.add(e)})}),f(Array.from(t).sort());let s=e.filter(e=>e.name.toLowerCase().includes(c.toLowerCase())||e.location?.department?.toLowerCase().includes(c.toLowerCase())||e.location?.country?.toLowerCase().includes(c.toLowerCase()));"ALL"!==p&&(s=s.filter(e=>e.location?.countries?.includes(p))),y(s.map((e,t)=>({...e,rank:t<3?t+1:null})))}},[e,c,p]),t)?r.jsx("div",{className:"min-h-screen flex items-center justify-center pt-20",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Erreur de chargement"}),r.jsx("p",{className:"text-gray-400",children:"Impossible de charger les plugs"})]})}):(0,r.jsxs)("div",{className:"min-h-screen pt-20 px-4",children:[(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-8 bg-black/60 backdrop-blur-sm rounded-2xl p-6",children:[(0,r.jsxs)("h1",{className:"text-4xl md:text-5xl font-black mb-3 text-white drop-shadow-2xl",children:["\uD83D\uDD0C Nos ",r.jsx("span",{className:"gradient-text",children:"Plugs Certifi\xe9s"})]}),r.jsx("p",{className:"text-white/90 text-lg drop-shadow-lg",children:"Vendeurs v\xe9rifi\xe9s et class\xe9s par popularit\xe9"}),e&&(0,r.jsxs)("p",{className:"text-sm text-white/70 mt-2 drop-shadow",children:[w.length," plug",w.length>1?"s":""," trouv\xe9",w.length>1?"s":""]})]}),(0,r.jsxs)("div",{className:"mb-8 space-y-4",children:[(0,r.jsxs)("div",{className:"relative max-w-md mx-auto",children:[r.jsx(o.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Rechercher un plug...",className:"w-full pl-12 pr-4 py-3 bg-black/80 backdrop-blur-md border-2 border-white/30 rounded-xl text-white placeholder-white/60 focus:outline-none focus:border-primary transition-all shadow-xl",value:c,onChange:e=>D(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center",children:[r.jsx("button",{onClick:()=>d("ALL"),className:`px-4 py-2 rounded-lg transition-all ${"ALL"===p?"bg-primary text-white":"bg-gray-800/50 text-gray-400 hover:bg-gray-700"}`,children:"\uD83C\uDF10 Tous les pays"}),E.map(t=>{let s=e?.filter(e=>e.country===t).length||0;return(0,r.jsxs)("button",{onClick:()=>d(t),className:`px-4 py-2 rounded-lg transition-all ${p===t?"bg-primary text-white":"bg-gray-800/50 text-gray-400 hover:bg-gray-700"}`,children:[{FR:"\uD83C\uDDEB\uD83C\uDDF7",ES:"\uD83C\uDDEA\uD83C\uDDF8",IT:"\uD83C\uDDEE\uD83C\uDDF9",DE:"\uD83C\uDDE9\uD83C\uDDEA",GB:"\uD83C\uDDEC\uD83C\uDDE7",PT:"\uD83C\uDDF5\uD83C\uDDF9",NL:"\uD83C\uDDF3\uD83C\uDDF1",BE:"\uD83C\uDDE7\uD83C\uDDEA",CH:"\uD83C\uDDE8\uD83C\uDDED",AT:"\uD83C\uDDE6\uD83C\uDDF9",US:"\uD83C\uDDFA\uD83C\uDDF8",CA:"\uD83C\uDDE8\uD83C\uDDE6",MX:"\uD83C\uDDF2\uD83C\uDDFD",BR:"\uD83C\uDDE7\uD83C\uDDF7",AR:"\uD83C\uDDE6\uD83C\uDDF7",JP:"\uD83C\uDDEF\uD83C\uDDF5",CN:"\uD83C\uDDE8\uD83C\uDDF3",KR:"\uD83C\uDDF0\uD83C\uDDF7",IN:"\uD83C\uDDEE\uD83C\uDDF3",AU:"\uD83C\uDDE6\uD83C\uDDFA"}[t]||"\uD83C\uDF0D"," ",{FR:"France",ES:"Espagne",IT:"Italie",DE:"Allemagne",GB:"Royaume-Uni",PT:"Portugal",NL:"Pays-Bas",BE:"Belgique",CH:"Suisse",AT:"Autriche",US:"\xc9tats-Unis",CA:"Canada",MX:"Mexique",BR:"Br\xe9sil",AR:"Argentine",JP:"Japon",CN:"Chine",KR:"Cor\xe9e du Sud",IN:"Inde",AU:"Australie"}[t]||t," (",s,")"]},t)})]})]}),r.jsx("div",{className:"grid grid-cols-2 gap-4 md:gap-6 lg:gap-8 max-w-6xl mx-auto",children:w.map(e=>r.jsx(l.Z,{plug:e,onClick:()=>{b(e),N(!0)}},e._id))}),0===w.length&&r.jsx("div",{className:"text-center py-20",children:r.jsx("p",{className:"text-gray-400 text-lg",children:"Aucun plug trouv\xe9"})})]}),r.jsx(n.Z,{plug:C,isOpen:A,onClose:()=>{N(!1),b(null)}})]})}},81755:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>u,__esModule:()=>a,default:()=>l});let r=(0,s(71481).createProxy)(String.raw`/workspace/web-app/app/plugs/page.tsx`),{__esModule:a,$$typeof:u}=r,l=r.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[864,307,750,240],()=>s(23602));module.exports=r})();